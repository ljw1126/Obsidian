ğŸ“Œ ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ (Today I Learned) 
## ë‚ ì§œ 
`2025ë…„ 12ì›” 15ì¼`

## ì¹´í…Œê³ ë¦¬
`#CSharp`, `#LINQ`

## ì£¼ì œ: 
### 1. ë¬¸ì œ ìƒí™© ë˜ëŠ” í•™ìŠµ ë°°ê²½
- íŠ¹ì • API ì¡°íšŒ ë¡œì§ì„ ë¶„ì„í•˜ê²Œ ë˜ì—ˆëŠ”ë° ë©”ì„œë“œ ì²´ì´ë‹ ë°©ì‹ìœ¼ë¡œ Join, GroupJoin, SelectMany ë‹¤ë£¨ëŠ” ê²ƒì„ ì²˜ìŒ ë´„
- ì¿¼ë¦¬ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ê°€ë©´ì„œ ì–´ë–¤ ê²°ê³¼ê°€ ì¡°íšŒë˜ëŠ”ì§€ ìœ ì¶”
- ì´ì™¸ì— repositoryì—ì„œ ì¡°íšŒì‹œ ì¿¼ë¦¬ì™€ ë¹„ìŠ·í•œ ë¬¸ë²•ì„ ë³¸ ê¸°ì–µì´ ìˆì–´ì„œ LINQì— ëŒ€í•´ ê°„ëµíˆ ì‚´í´ë´„

### 2. í•µì‹¬ ë‚´ìš© / ê°œë… ì •ë¦¬

`LINQ`
- **L**anguage **In**tegrated **Q**uery
- Data Source(Table, List)ì—ì„œ í•„ìš”í•œ Dataë¥¼ ê²€ìƒ‰í•˜ëŠ” ì‹ (Query)
- ë³€ìˆ˜ í˜•íƒœë¡œ ì§€ì •í•´ì„œ ì‚¬ìš© 
- from, where, orderby, select ì ˆë¡œ êµ¬ì„± (SQLê³¼ ë¹„ìŠ·)
	- from
	- where
	- orderby
	- select
	- ì´ëŸ¬í•œ ìˆœì„œì¸ ì´ìœ ê°€ ë‹¤ ë§Œë“¤ê³  ë‚œ í›„ì— select ì ˆì—ì„œ ë½‘ì•„ ë‚´ëŠ” ê²ƒì„ í‘œí˜„í•˜ê¸° ìœ„í•´

> foreachë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©´ LINQ ì ìš© ê°€ëŠ¥ 


**Query Syntax vs Method Syntax**
> [!info] 
> query syntaxëŠ” "SQLì²˜ëŸ¼ ë³´ì´ëŠ” ë¬¸ë²• ì„¤íƒ•(syntax sugar)"ì´ê³ , ì‹¤ì œ LINQì˜ ë³¸ì²´ëŠ” method syntaxì´ë‹¤. 
- ì¦‰, query syntax â¡ï¸ ì»´íŒŒì¼ ì‹œ method syntaxë¡œ ë³€í™˜

```cs
int[] numbers = [ 5, 10, 8, 3, 6, 12 ];

//Query syntax:
IEnumerable<int> numQuery1 =
    from num in numbers
    where num % 2 == 0
    orderby num
    select num;

//Method syntax:
IEnumerable<int> numQuery2 = numbers
    .Where(num => num % 2 == 0)
    .OrderBy(n => n);
```
- https://learn.microsoft.com/ko-kr/dotnet/csharp/linq/get-started/write-linq-queries


**ğŸ”¹ Query Syntax (SQL ìŠ¤íƒ€ì¼)**
```csharp
var q =
    from u in users
    where u.Age >= 20
    orderby u.Name
    select u.Name;
```

**ğŸ”¹ Method Syntax (ì²´ì´ë‹ ìŠ¤íƒ€ì¼)**
```csharp
var q = users
    .Where(u => u.Age >= 20)
    .OrderBy(u => u.Name)
    .Select(u => u.Name);
```
- ì´ë•Œ ì»´íŒŒì¼ ê²°ê³¼ëŠ” ë‘˜ë‹¤ ë™ì¼


**ë‘ ê°€ì§€ ë¬¸ë²•ì´ ì¡´ì¬í•˜ëŠ” ì´ìœ ?**
- Query Syntaxì˜ ê²½ìš° 
	- JOIN / GROUP / LET í‘œí˜„ì´ ì§ê´€ì 
	- SQLì— ìµìˆ™í•œ ê°œë°œì ì§„ì… ì¥ë²½ ë‚®ì¶¤
	- ê°€ë…ì„±ì´ ì¢‹ì€ ê²½ìš°ê°€ ìˆìŒ 
- Method Syntaxì˜ ê²½ìš° 
	- LINQì˜ ì‹¤ì œ API
	- ëª¨ë“  LINQì˜ ê¸°ëŠ¥ ì§€ì› 
	- delegate / lambda ì¡°í•©ì— ê°•í•¨

**ê²°ì •ì ì¸ ì°¨ì´ì **
- Query Syntaxë¡œëŠ” ì²˜ë¦¬/í‘œí˜„í•˜ì§€ ëª»í•˜ëŠ” ê²ƒë„ ìˆë‹¤
	- ì˜ˆ. `users.SelectMany(u => u.Orders)`
	- Join + from ì¤‘ì²©ìœ¼ë¡œ ìš°íšŒí•´ì•¼ í•¨
- Method SyntaxëŠ” ëª¨ë“  LINQ ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥ 
	- SelectMany
	- Aggregate
	- Zip
	- Append / Prepend

> [!note] EF Core ê´€ì ì—ì„œ ë°˜ë“œì‹œ ê¸°ì–µí•  ê²ƒ
> EF CoreëŠ” "method syntaxì˜ Expression Tree"ë¥¼ ì½ì–´ì„œ SQLì„ ë§Œë“ ë‹¤
- query syntax â†’ method syntaxë¡œ ë³€í™˜ë¨
- ê·¸ method í˜¸ì¶œì´ **`IQueryable<T>`** ê¸°ë°˜ì´ë©´
    - Expression Tree ìƒì„±
    - SQLë¡œ ë²ˆì—­
- `IEnumerable<T>`ë©´ ê·¸ëƒ¥ C# ì½”ë“œë¡œ ì‹¤í–‰


**ì‹¤ë¬´ ê¸°ì¤€ ì¶”ì²œ ì‚¬ìš© ì „ëµ**
- ê¸°ë³¸ ì›ì¹™ìœ¼ë¡œ Method syntaxë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©
	- Query SyntaxëŠ” 
		- ë³µì¡í•œ JOIN
		- ë‹¤ì¤‘ FROM
		- ì½ê¸° ì–´ë ¤ìš´ ì¿¼ë¦¬ì—ì„œë§Œ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©
- í•˜ë‚˜ë¡œ í†µì¼í•˜ëŠ” ê²Œ ì¤‘ìš” (ì¥ê¸° ìœ ì§€ë³´ìˆ˜ ê´€ì )
- ëŒ€ë¶€ë¶„ íŒ€ì€ Method syntax ì„ íƒ 


---
ì°¸ê³ . 
- [LINQ ì†Œê°œ](https://learn.microsoft.com/ko-kr/dotnet/csharp/tutorials/working-with-linq)
- [ê¸°ë³¸ LINQ ì¿¼ë¦¬ ì‘ì—… (C#)](https://learn.microsoft.com/ko-kr/dotnet/csharp/linq/standard-query-operators/)
- [ì¿¼ë¦¬ í‚¤ì›Œë“œ](https://learn.microsoft.com/ko-kr/dotnet/csharp/language-reference/keywords/query-keywords)


