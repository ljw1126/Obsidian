# 📌 오늘 배운 것 (Today I Learned) 
## 날짜 
`2025년 12월 29일`

## 카테고리
`#csharp`, `#query expression`

## 주제: 
### 1. 문제 상황 또는 학습 배경
- LINQ 공식 문서에서`쿼리식 기본 사항` 페이지에 대해 살펴보고 학습한다

### 2. 핵심 내용 / 개념 정리

**📌 공식문서**
- [영문서](https://learn.microsoft.com/en-us/dotnet/csharp/linq/get-started/query-expression-basics)
- [한글문서](https://learn.microsoft.com/ko-kr/dotnet/csharp/linq/get-started/query-expression-basics)

--- 

**📌 Notebook LM 요약 정리**
- 🔗[링크](https://notebooklm.google.com/notebook/c45a398d-2ca7-4cfe-80d4-6a942bfac7a6)
- 비유 : 데이터를 가져오기 위한 설명서 (레시피)
	- 레시피를 들고 있다고해서 주방에 음식이 만들어지진 않는다
	- `쿼리는 결과물을 만들기 위한 계획` 
	- 그 자체로 실행되지 않는다
- `IEnumerable<T>`
- 데이터 소스마다 다른 언어를 배울 필요 없다 
	- 데이터 소스계의 공용서 같은 느낌
- 쿼리 변수 
	- `아무일도 일어나지 않는다`
		- 정말 레시피가 필요해지는 순간에 실행이 된다 
			- ex. foreach로 쿼리 결과 하나씩 조회 
				- LINQ가 데이터소스로 달려가서 지시를 하나씩 수행한다
	- `지연된 실행`이라 부른다 
		- 100만개 중에 상위 5개 필요하면, 100만개를 다 조회할 필요없이 5개만 필요
- LINQ를 처음 사용할 때 겪는 혼란 
	- 문서에서 쿼리가 즉시 실행되는 경우를 함께 설명함
		- ex. **Count**, **ToList** 호출시 즉시 실행됨
			- 즉시 실행하게 되면 쿼리 변수는 레시피를 담을 변수가 아니라 완성된 결과물을 담은 변수가 된다✅
- 무엇을 원하는지 선언적으로 표현하기만 하면 된다 
	- 어떻게 가져올지는 LINQ가 최적의 방법으로 결정
- for문의 컴퓨터에서 어떻게 가져올지 상세히 지시하는 방식
- 핵심 임무 
	- 1) `filtering` : 원본 유지하고 특정 조건에 맞는 요소만 뽑는다
	- 2) `projection` : 데이터 변환, 새로운 객체 맵핑 (ex. int or string)
	- 3) `aggregation` : 데이터 요약해서 하나의 값을 얻는것 (갯수, 합계)
- 결국 실무에서는 핵심임무 3가지의 조합이다 
	- LINQ는 이 3개 흐름을 일관되게 작업하도록 해준다 
- query expression 문법 
	- 처음 시작은 `from`절로 시작해야 한다
		- `from` 절을 중첩해서 사용할 수 있다. (예제 코드 참고)
		- 복잡한 중첩 반복문 없이도 펼칠 수 있다. 
	- `where` 조건절
	- `select` : projection에 해당한다
	- `group` : 키를 중심으로 묶어준다
	- `orderby` 
	- `join`
	- `let` : 쿼리 중간에 임시 변수를 만드는 기능, 쿼리 복잡해질때 가독성을 높여주는데 유용
- `into` : 쿼리의 중간 결과를 담는다 (ex. countryGroup, studentGroup 예시 참고)
	- 쿼리를 끊지 않고, **그룹 데이터**를 다룰 수 있게 해준다
	- `subquery` 처럼 사용할 수 있다
	- `환승역`이라고 비유함

> 어떻게 -> 무엇을
- `지연된 실행` , `projection` 이 핵심
- LINQ는 데이터 소통하는 방식에 대한 근본적인 관점 전환을 제시한다
	- 컴퓨터 언어가 아닌 문제의 언어로 코드를 작성하게 해준다
	- 데이터를 다루는 철학을 바꿔주는 기술이라 할 수 있다.

> "쿼리 구문"과 "메서드 구문"을 언제 사용하는게 좋을까? 데이터를 바라보는 관점과 문제해결 방식에 영향을 끼칠 수 있기 때문에 생각을 해본다

---

