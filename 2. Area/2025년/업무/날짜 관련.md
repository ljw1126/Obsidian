

- blobì— ìˆëŠ” íŒŒì¼ì€ UTC ê¸°ì¤€ìœ¼ë¡œ ì €ì¥ëœë‹¤.


í•œêµ­ í‘œì¤€ì‹œ(KST)ëŠ” **UTC(í˜‘ì • ì„¸ê³„ì‹œ)ë³´ë‹¤ 9ì‹œê°„ ë¹ ë¦…ë‹ˆë‹¤.** (KST = UTC + 9)

| **ê¸°ì¤€**    | **UTC (Universal Time)** | **KST (Korean Time)**    |
| --------- | ------------------------ | ------------------------ |
| **ìì •**    | 2025-11-19T00:00:00Z     | 2025-11-19 09:00:00      |
| **í•œêµ­ ì˜¤ì „** | 2025-11-19T03:00:00Z     | 2025-11-19 12:00:00 (ì •ì˜¤) |
| **í•œêµ­ ì˜¤í›„** | 2025-11-19T09:10:00Z     | 2025-11-19 18:10:00 (ì €ë…) |
| **ë‚ ì§œ ë³€ê²½** | 2025-11-19T15:00:00Z     | 2025-11-20 00:00:00      |

> ğŸ”‘ **í•µì‹¬:** íŒŒì¼ëª…ì´ë‚˜ DBì— `Z`ê°€ ë¶™ì–´ìˆê±°ë‚˜ (`2025-11-19T09:10:00Z`), ì½”ë“œì—ì„œ `UtcNow`ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´, ì´ëŠ” **UTC ê¸°ì¤€ ì‹œê°„**ì…ë‹ˆë‹¤.

> í•œêµ­ í‘œì¤€ì‹œ (KST) = UTC + 9ì‹œê°„
> UTC ì‹œê°„ì„ êµ¬í•˜ë ¤ë©´ KSTì—ì„œ 9ì‹œê°„ì„ **ë¹¼ì•¼** í•©ë‹ˆë‹¤


|**í¬ë§·**|**ê²°ê³¼ ì˜ˆì‹œ**|**í•´ì„**|
|---|---|---|
|**ì œì‹œ í¬ë§· (ì •ë³´ ì—†ìŒ)**|`2025-11-19T09:10:00.000`|ì´ ì‹œê°„ì´ UTC 9ì‹œì¸ì§€, KST 9ì‹œì¸ì§€ **ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**|
|**UTC í¬ë§· (Z)**|`2025-11-19T09:10:00Z`|**ëª…í™•íˆ UTC 9ì‹œ**ì…ë‹ˆë‹¤.|
|**KST ì˜¤í”„ì…‹**|`2025-11-19T18:10:00+09:00`|**ëª…í™•íˆ KST 18ì‹œ 10ë¶„**ì…ë‹ˆë‹¤.|

### C# ë©”ì„œë“œ 

`ToString("yyyy-MM-ddTHH:mm:ss.000f")`
- ì‹œê°„ì„ ë¬¸ìì—´ë¡œ í¬ë§·íŒ…í•˜ë©°, ì‹œê°„ëŒ€ ì •ë³´(Z)ë¥¼ ì¶œë ¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
- **`f`ì˜ ì˜ë¯¸:** ì†Œìˆ˜ì  ì´í•˜ì˜ ë‚¨ëŠ” 0ì„ ì œê±°í•˜ëŠ” í¬ë§· ì§€ì •ìì…ë‹ˆë‹¤. (ë°€ë¦¬ì´ˆ í¬ë§·ì„ ì§€ì •í•˜ëŠ” ë°ëŠ” `fff` ê°€ ë” ëª…í™•í•©ë‹ˆë‹¤.)


`DateTime.UtcNow.ToString("yyyy-MM-ddTHH:mm:ssZ")`
- ì´ êµ¬ë¬¸ì€ **í˜„ì¬ UTC ì‹œê°„ì„ í‘œì¤€ ISO 8601 í˜•ì‹ìœ¼ë¡œ ì¶œë ¥**í•˜ëŠ” ê°€ì¥ ì•ˆì „í•œ ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤
- **`DateTime.UtcNow`:** í˜„ì¬ ì‹œê°„ì„ **`DateTimeKind.Utc`** ê°ì²´ë¡œ ìƒì„±í•©ë‹ˆë‹¤.
	- 9ì‹œê°„ ì „
- **`...Z` í¬ë§·:** ë¬¸ìì—´ ëì— `Z`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë¶™ì—¬ì„œ ì´ ì‹œê°„ì´ **UTC ê¸°ì¤€**ì„ì„ ì™¸ë¶€ ì‹œìŠ¤í…œì— ì•Œë ¤ì¤ë‹ˆë‹¤. (Cosmos DBì— ì €ì¥ ì‹œ ê¶Œì¥ë˜ëŠ” í˜•ì‹ì…ë‹ˆë‹¤.)


`ToString("yyyy-MM-ddTHH:mm:ss.fffZ")`
- **ë°€ë¦¬ì´ˆ(`fff`)ë¥¼ ëª…í™•í•˜ê²Œ í¬í•¨**í•˜ë„ë¡ ì§€ì •
- **ë™ì‘:** `fff`ë¥¼ í†µí•´ ë°€ë¦¬ì´ˆ ì„¸ ìë¦¬ê¹Œì§€ ì¶œë ¥í•˜ê³ , `Z`ë¥¼ ë¶™ì—¬ì„œ UTC ì‹œê°„ì„ì„ ëª…ì‹œí•©ë‹ˆë‹¤
- **ì¶œë ¥ ì˜ˆ:** `2025-11-19T08:37:06.123Z`
- **ìš©ë„:** ë°ì´í„° ì •ë°€ë„ë¥¼ ë†’ì—¬ì•¼ í•˜ê±°ë‚˜, Cosmos DB ê°™ì€ ì‹œìŠ¤í…œì´ ë°€ë¦¬ì´ˆê¹Œì§€ ìš”êµ¬í•  ë•Œ C êµ¬ë¬¸ ëŒ€ì‹  ì´ êµ¬ë¬¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

---

> ìš´ì˜ì— í•˜ë‚˜ì”© ì¡´ì¬í•˜ê³ , ê°±ì‹ ë˜ëŠ” í˜•íƒœì¸ ë“¯ í•˜ë‹¤

`3E3863_controlLog10Min`
```json
{
    "sk": "3E3863",
    "id": "3E3863_controlLog10Min",
    "lastDateTimeFirstInsert10Min": "2025-11-19T09:00:00Z", // ë¡œì»¬ì´ KSTë¼ì„œ ì˜ëª» ê¸°ë¡ë¨
    "lastDateTimeSecondInsert10Min": "2016-01-01T12:00:00.000Z",
    "firstDataDateTime10Min": "2025-11-18T00:10:00Z",
    "_rid": "Gt8yAKlp+fLGAAAAAAAAAA==",
    "_self": "dbs/Gt8yAA==/colls/Gt8yAKlp+fI=/docs/Gt8yAKlp+fLGAAAAAAAAAA==/",
    "_etag": "\"00000000-0000-0000-592c-f2e7e80501dc\"",
    "_attachments": "attachments/",
    "_ts": 1763540250
}

// ìœˆë„ìš° ì„¤ì •ì—ì„œ UTC ì‹œê°„ìœ¼ë¡œ ë°”ê¾¸ë‹ˆ ì˜ë„ëŒ€ë¡œ ë™ì‘
{
    "sk": "3E3863",
    "id": "3E3863_controlLog10Min",
    "lastDateTimeFirstInsert10Min": "2025-11-19T00:00:00Z", // ë‹¤ìŒ ì‹œì‘ ì‹œê°„
    "lastDateTimeSecondInsert10Min": "2016-01-01T12:00:00.000Z",
    "firstDataDateTime10Min": "2025-11-18T00:10:00Z", // ì²˜ìŒì‹¤í–‰í•œ ì‹œê°„
    "_rid": "Gt8yAKlp+fJYAwAAAAAAAA==",
    "_self": "dbs/Gt8yAA==/colls/Gt8yAKlp+fI=/docs/Gt8yAKlp+fJYAwAAAAAAAA==/",
    "_etag": "\"00000000-0000-0000-59c5-1640380501dc\"",
    "_attachments": "attachments/",
    "_ts": 1763605593
}
```

ìœˆë„ìš° ì„¤ì •ìœ¼ë¡œ UTC ë°”ê¾¸ê³  ì‹¤í–‰ì‹œ ì •ìƒì ìœ¼ë¡œ ë‚ ì§œê°€ ì¶œë ¥ëœë‹¤ 
- 11/18ì¼ 00ì‹œ 10ë¶„ ~ 23ì‹œ 50ë¶„ê¹Œì§€
```text
[2025-11-20T02:26:03.629Z] Insert10MinDatatoDocumentDbAsync ========
[2025-11-20T02:26:03.634Z] lastDate : 2025-11-18 ì˜¤ì „ 12:10:00, lastDateConverted : 2025-11-18T00:10:00Z
[2025-11-20T02:26:03.636Z] firstDate : 2025-11-18 ì˜¤ì „ 12:10:00, firstDateConverted : 2025-11-18T00:10:00Z
[2025-11-20T02:26:03.727Z] 10Min : 2025-11-18 ì˜¤ì „ 12:10:00 / POS QINGDAO
..

[2025-11-20T02:26:32.816Z] lastDate : 2025-11-18 ì˜¤í›„ 11:50:00, lastDateConverted : 2025-11-18T23:50:00Z
[2025-11-20T02:26:32.818Z] firstDate : 2025-11-18 ì˜¤í›„ 11:50:00, firstDateConverted : 2025-11-18T23:50:00Z
[2025-11-20T02:26:32.923Z] 10Min : 2025-11-18 ì˜¤í›„ 11:50:00 / POS QINGDAO
[2025-11-20T02:26:32.925Z] LastPositionClient.SetLastPositionControllerAsync : System.Dynamic.ExpandoObject
[2025-11-20T02:26:33.013Z] Insert10MinDatatoDocumentDbAsync ========
[2025-11-20T02:26:33.015Z] lastDate : 2025-11-19 ì˜¤ì „ 12:00:00, lastDateConverted : 2025-11-19T00:00:00Z
[2025-11-20T02:26:33.018Z] firstDate : 2025-11-19 ì˜¤ì „ 12:00:00, firstDateConverted : 2025-11-19T00:00:00Z
[2025-11-20T02:26:33.120Z] 10Min : 2025-11-19 ì˜¤ì „ 12:00:00 / POS QINGDAO
[2025-11-20T02:26:33.123Z] LastPositionClient.SetLastPositionControllerAsync : System.Dynamic.ExpandoObject
[2025-11-20T02:26:33.531Z] Executed 'Functions.LoggerDataInsert10Min' (Succeeded, Id=9bd6cd4d-b498-4859-9497-c344af96750a, Duration=35409ms)
```



`3E3863_controlLog1Hour`
```json
// ë¡œì»¬ KST
{
    "sk": "3E3863",
    "id": "3E3863_controlLog1Hour",
    "lastDateTimeFirstInsert1Hour": "2025-11-19T19:00:00Z",
    "lastDateTimeSecondInsert1Hour": "2025-11-18T09:10:00.0000",
    "firstDataDateTime1Hour": "2025-11-19T04:00:00Z",
    "_rid": "Gt8yAKlp+fJoAQAAAAAAAA==",
    "_self": "dbs/Gt8yAA==/colls/Gt8yAKlp+fI=/docs/Gt8yAKlp+fJoAQAAAAAAAA==/",
    "_etag": "\"00000000-0000-0000-592d-2b46740501dc\"",
    "_attachments": "attachments/",
    "_ts": 1763540344
}


// ë¡œì»¬ UTC ë³€ê²½ í›„
{
    "sk": "3E3863",
    "id": "3E3863_controlLog1Hour",
    "lastDateTimeFirstInsert1Hour": "2025-11-19T00:00:00Z",
    "lastDateTimeSecondInsert1Hour": "2025-11-18T00:10:00.0000",
    "firstDataDateTime1Hour": "2025-11-18T01:00:00Z",
    "_rid": "Gt8yAKlp+fLuAwAAAAAAAA==",
    "_self": "dbs/Gt8yAA==/colls/Gt8yAKlp+fI=/docs/Gt8yAKlp+fLuAwAAAAAAAA==/",
    "_etag": "\"00000000-0000-0000-59d0-267fa40501dc\"",
    "_attachments": "attachments/",
    "_ts": 1763610344
}
```

> ë‚˜ëŠ” 11/18 ë°¤ 1ì‹œì— ë‚ ì§œ ì •ë³´ê°€ í•„ìš”í•œë°, KSTë¡œ ì´ìƒí•˜ê²Œ ë°”ë€Œë©´ì„œ ì•„ì¹¨ 10ì‹œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì—°ì‚°í•˜ë‹ˆ 1ì‹œê°„ ê·¸ë£¹ì´ ì•ˆ ë§ì€ ê±°ì˜€ë‹¤

```text

[1ì‹œê°„ ì‹œì‘] // UTCë¡œ ëŒë¦¬ë‹ˆ ì •ìƒì ìœ¼ë¡œ ê·¸ë£¹í•‘ í•´ì„œ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ” ë“¯ í•˜ë‹¤
[2025-11-20T03:44:15.508Z] 1Hour Start : 2025-11-18 ì˜¤ì „ 12:10:00 / POS QINGDAO
[2025-11-20T03:45:32.342Z] Query10MinDataAsync startTime : 2025-11-18T00:10:00.000Z , endTime = 2025-11-19T00:00:00.000Z
[2025-11-20T03:45:38.995Z] shipDatas Count : 148
[2025-11-20T03:45:46.957Z] 1Hour : 2025-11-19 ì˜¤ì „ 12:00:00 / POS QINGDAO
```


ìœˆë„ìš° ì‹œê°„ëŒ€ê°€ `UTC` ì¸ ê²½ìš°
```text
[Fact]
public void DefaultDateTimeTest()
{
    DateTime now = DateTime.Now;
    DateTime utcNow = DateTime.UtcNow;

    _output.WriteLine($"DateTime.Now: {now}"); 
    _output.WriteLine($"DateTime.UtcNow: {utcNow}"); 
}
```

>DateTime.Now: 2025-11-20 ì˜¤ì „ 7:35:33
>DateTime.UtcNow: 2025-11-20 ì˜¤ì „ 7:35:33

ìœˆë„ìš° ì‹œê°„ëŒ€ê°€ `KST(UTC +9:00)` ì¸ ê²½ìš°
> DateTime.Now: 2025-11-20 ì˜¤í›„ 4:36:34 ğŸ“Œ
   DateTime.UtcNow: 2025-11-20 ì˜¤ì „ 7:36:34

> ìš´ì˜ function appì€ ë¦¬ëˆ…ìŠ¤ ì„œë²„ì— ì˜¬ë¼ê°€ ìˆê³ , dateëŠ” `UTC` ì˜€ë‹¤!
- ê³ ë¡œ ë¡œì»¬ í…ŒìŠ¤íŠ¸ì‹œ ìš´ì˜ ì„œë²„ì™€ ë™ì¼í•œ`UTC`ë¡œ í•´ì•¼ í•œë‹¤


```cs
 [Fact]
 public void ConvertToDateTimeTest()
 {
     string lastDateTimeFirstInsert10Min = "2025-11-19T09:00:00Z";

     var actual = Convert.ToDateTime(lastDateTimeFirstInsert10Min);

     _output.WriteLine(actual.ToString()); 
 }
```
- ìœˆë„ìš°ê°€ 
	- KSTì¼ë•Œ `2025-11-19 ì˜¤í›„ 6:00:00`
	- UTCì¼ë•Œ ` 2025-11-19 ì˜¤ì „ 9:00:00`


```cs
// ìœˆë„ìš°ì˜ TIME_ZONEì´ KST(í•œêµ­ í‘œì¤€ì‹œ)ë¡œ ì„¤ì •ë˜ì–´ ìˆì„ ë•Œ   
[Fact]
public void ConvertToDateTimeTest()
{
    string lastDateTimeFirstInsert10Min = "2025-11-19T09:00:00Z";

    var actual = DateTime.Parse(lastDateTimeFirstInsert10Min, CultureInfo.InvariantCulture); // 2025-11-19 ì˜¤í›„ 6:00:00
    actual = actual.ToUniversalTime(); //  2025-11-19 ì˜¤ì „ 9:00:00

    _output.WriteLine(actual.ToString()); 
}
```