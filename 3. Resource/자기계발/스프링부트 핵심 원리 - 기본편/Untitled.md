> [!info]  PPT ê°•ì˜ ìë£ŒëŠ” ìˆëŠ”ë° ì‹¤ìŠµ ì½”ë“œ ì „ì²´ê°€ ì£¼ì–´ì§€ì§„ ì•ŠìŒ. ìŠ¤ìŠ¤ë¡œ íƒ€ì´í•‘ í•´ì•¼ í•¨


## ì„¹ì…˜3. ì˜ˆì œ ë§Œë“¤ê¸° 


**ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ê³¼ ì„¤ê³„**
- **íšŒì›** 
	- íšŒì›ì„ ê°€ì…í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤ 
	- íšŒì›ì€ ì¼ë°˜ê³¼ VIP ë‘ ê°€ì§€ ë“±ê¸‰ì´ ìˆë‹¤ 
	- íšŒì› ë°ì´í„°ëŠ” ìì²´ DBë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆê³ , ì™¸ë¶€  ì‹œìŠ¤í…œê³¼ ì—°ë™í•  ìˆ˜ ìˆë‹¤. (ë¯¸í™•ì •)
- **ì£¼ë¬¸**ê³¼ **í• ì¸ ì •ì±…**
	- íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤
	- íšŒì› ë“±ê¸‰ì— ë”°ë¼ í• ì¸ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤
	- í• ì¸ ì •ì±…ì—ì„œ ëª¨ë“  VIPëŠ” 1,000ì›ì„ í• ì¸í•´ì£¼ëŠ” ê³ ì • ê¸ˆì•¡ í• ì¸ì„ ì ìš©í•´ë‹¬ë¼ (ë³€ê²½ ê°€ëŠ¥)
	- í• ì¸ ì •ì±…ì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. íšŒì‚¬ì˜ ê¸°ë³¸ í• ì¸ ì •ì±…ì„ ì•„ì§ ì •í•˜ì§€ ëª»í–ˆê³ , ì˜¤í”ˆ ì§ì „ê¹Œì§€ ê³ ë¯¼ì„ ë¯¸ë£¨ê³  ì‹¶ë‹¤. ìµœì•…ì˜ ê²½ìš° í• ì¸ì„ ì ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. (ë¯¸í™•ì •)

**íšŒì› ë„ë©”ì¸ ì„¤ê³„**
- í˜‘ë ¥ ê´€ê³„ 
	- ..
- íšŒì› í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ 
	- ..
- ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨
	- ..


> 13.íšŒì› ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸ì—ì„œ
> - MemberServiceImplì€ ì¶”ìƒí™”ì—ë„ ì˜ì¡´í•˜ê³  êµ¬í˜„ì²´ì—ë„ ì˜ì¡´í•˜ê³  ìˆë‹¤.
> - ì´ë¡œì¸í•´ ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ì‹œ `OCP`, `DIP` ì›ì¹™ ìœ„ë°˜í•˜ê²Œ ë¨


**ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ì„¤ê³„**
- (ì—­í• ê³¼ ì •ì±… í™•ì¸)

> âœ… **ì—­í• **: ì¸í„°í˜ì´ìŠ¤ 
> âœ… **ì •ì±…**: êµ¬í˜„ì²´


> OrderServiceImplì—ì„œ DiscountPolicy ì¸í„°í˜ì´ìŠ¤ì— êµ¬í˜„ì²´ë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•˜ëŠ”ë°, í• ì¸ ì •ì±…ì— ëŒ€í•œ ì±…ì„ì€ êµ¬í˜„ì²´ì— ìˆë‹¤ëŠ” ì ì—ì„œ SRP ì›ì¹™ì„ ì˜ ì¤€ìˆ˜í–ˆë‹¤ëŠ” ê²ƒì„ ì„¤ëª…í•˜ëŠ”ê²Œ ì¢‹ìŒ 





## ì„¹ì…˜4. ê°ì²´ ì§€í–¥ ì›ë¦¬ ì ìš©

- RateDiscountPolicy ìƒì„±
- AppConfig ìƒì„±
- MemberServiceImpl, OrderServiceImpl ë¦¬íŒ©í„°ë§ 

### ìƒˆë¡œìš´ í• ì¸ ì •ì±… ê°œë°œ
- ì•…ë• ê¸°íšì , ìˆœì§„ ê°œë°œìì˜ ëŒ€í™”ê°€ ì›ƒê¸°ë„¤ 

**ì°¸ê³ . ì• ìì¼ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ì„ ì–¸**
- https://agilemanifesto.org/iso/ko/manifesto.html

**RateDiscountPolicy(êµ¬í˜„ì²´) ì •ì±… ì¶”ê°€**
- DiscountPolicy(ì¸í„°í˜ì´ìŠ¤)ëŠ” ì—­í•  


### ìƒˆë¡œìš´ í• ì¸ ì •ì±… ì ìš©ê³¼ ë¬¸ì œì  

- RateDiscountPolicyë¥¼ ì ìš©í•˜ê¸° ì•ì„œ 
	- ì—­í• ê³¼ êµ¬í˜„ì„ ì¶©ì‹¤í•˜ê²Œ ë¶„ë¦¬í•¨ 
	- ë‹¤í˜•ì„±ë„ í™œìš©í•˜ê³ , ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ ê°ì²´ë¥¼ ë¶„ë¦¬í•¨ 
	- ë‹¤ë§Œ, OCP, DIP ê°™ì€ ê°ì²´ì§€í–¥ ì„¤ê³„ ì›ì¹™ì„ ì¶©ì‹¤íˆ ì¤€ìˆ˜ x
		- OrderServiceImplì—ì„œëŠ” DiscountPolicy(ì¶”ìƒ) , RateDiscountPolicy(êµ¬í˜„ì²´) ì˜ì¡´í•¨


### ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ 
- ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í•˜ë‚˜ì˜ ê³µì—°ì´ë¼ ìƒê°í•´ë³´ì 
	- ê°ê°ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°°ì—­(ë°°ìš° ì—­í• )ì´ë¼ ìƒê°
	- ê·¸ëŸ°ë° ì‹¤ì œ ë°°ì—­ì— ë§ëŠ” ë°°ìš°ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì€ ëˆ„ê°€ í•˜ëŠ”ê°€ ?
		- ê³µì—° ê¸°íšìê°€ ë°°ìš°ë¥¼ ì„­ì™¸í•´ì•¼ í•œë‹¤ 
- `ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ì`
	- ë°°ìš°ëŠ” ë³¸ì¸ì˜ ì—­í• ì¸ ë°°ì—´ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒë§Œ ì§‘ì¤‘í•´ì•¼ í•œë‹¤ 
	- ê³µì—°ì„ êµ¬ì„±í•˜ê³ , ë‹´ë‹¹ ë°°ìš°ë¥¼ ì„­ì™¸í•˜ê³ , ì—­í• ì— ë§ëŠ” ë°°ìš°ë¥¼ ì§€ì •í•˜ëŠ” ì±…ì„ì„ ë‹´ë‹¹í•˜ëŠ” ë³„ë„ì˜ `ê³µì—° ê¸°íšì`ê°€ í•„ìš”í•œ ì‹œì ì´ë‹¤
	- ê³µì—° ê¸°íšìë¥¼ ë§Œë“¤ê³ , ë°°ìš°ì™€ ê³µì—° ê¸°íšìì˜ ì±…ì„ì„ í™•ì‹¤íˆ ë¶„ë¦¬í•˜ì 

> ê³µì—° ê¸°íšì => **AppConfig** ì„¤ì • í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ëŠ” ì±…ì„ì„ ë§¡ê¸´ë‹¤ 


### AppConfig ë¦¬íŒ©í„°ë§ 
- ì¤‘ë³µì´ ìˆê³ , ì—­í• ì— ë”°ë¥¸ êµ¬í˜„ì´ ì˜ ì•ˆë³´ì„
- ë©”ì„œë“œ ì¶”ì¶œì„ í†µí•´ íŒŒë¼ë¯¸í„° ê°ì²´ë¥¼ ë½‘ëŠ”ë‹¤ (=ì¤‘ë³µ ê°ì†Œ)
	- âœ… ë©”ì„œë“œ ëª…ì— **ì—­í• ** ë“¤ì–´ê°€ê³ , ë©”ì„œë“œ ë‚´ë¶€ì— **êµ¬í˜„**ì´ ë“¤ì–´ê° ğŸ¤”


### ìƒˆë¡œìš´ êµ¬ì¡°ì™€ í• ì¸ ì •ì±… ì ìš© 
- Fix* -> Rate* í• ì¸ ì •ì±…ìœ¼ë¡œ ë³€ê²½í•´ë³¸ë‹¤ 
- `AppConfig`ë§Œ ìˆ˜ì •í•˜ë©´ ëœë‹¤ 

> ì‚¬ìš© ì˜ì—­ê³¼ êµ¬ì„± ì˜ì—­(AppConfig)ì„ êµ¬ë¶„í•˜ëŠ”ê²Œ ëˆˆì— ë„ë„¤

> ë¦¬íŒ©í„°ë§ì„ í†µí•´ DIP, OCP ì¤€ìˆ˜í•˜ê²Œ ë¨ 


### ì „ì²´ íë¦„ ì •ë¦¬ 
(ìƒëµ)


### ì¢‹ì€ ê°ì²´ ì§€í–¥ ì„¤ê³„ì˜ 5ê°€ì§€ ì›ì¹™ì˜ ì ìš© 

**SRP, ë‹¨ì¼ ì±…ì„ ì›ì¹™**
- í•œ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì ¸ì•¼ í•œë‹¤
	- í´ë¼ì´ì–¸íŠ¸ ê°ì²´ëŠ” ì§ì ‘ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì—°ê²°í•˜ê³ , ì‹¤í–‰í•˜ëŠ” ë‹¤ì–‘í•œ ì±…ì„ì„ ê°€ì§€ê³  ìˆìŒ 
	- SRP ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ë”°ë¥´ë©´ì„œ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•¨
	- êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì—°ê²°í•˜ëŠ” ì±…ì„ì€ AppConfigê°€ ë‹´ë‹¹
	- í´ë¼ì´ì–¸íŠ¸ ê°ì²´ëŠ” ì‹¤í–‰í•˜ëŠ” ì±…ì„ë§Œ ë‹´ë‹¹

**DIP, ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™**
- ì €ìˆ˜ì¤€ ëª¨ë“ˆ(êµ¬í˜„ì²´)ì— ì˜ì¡´í•˜ëŠ”ê²Œ ì•„ë‹Œ, ì¶”ìƒí™”ëœ ê³ ìˆ˜ì¤€ ëª¨ë“ˆ(ì¸í„°í˜ì´ìŠ¤)ì— ì˜ì¡´í•´ì•¼ í•œë‹¤

**OCP, ê°œë°©íì‡„ ì›ì¹™**
- ì†Œí”„íŠ¸ì›¨ì–´ ìš”ì†ŒëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆê³ , ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆì–´ì•¼ í•œë‹¤
	- ìƒì„±ì ì£¼ì…ì„ í†µí•´ DiscountPolicy ì£¼ì…ì„ ë°›ì•„ì„œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤
	- í˜„ì¬ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì—†ì´ AppConfigì—ì„œ ì˜ì¡´ ê´€ê³„ ì„¤ì •ì„ ë‹´ë‹¹í•˜ëŠ”ë° ì—¬ê¸°ì„œ FixDiscountPolicy -> RateDiscountPolicy êµ¬í˜„ì²´ë¡œ ë³€ê²½í•  ê²½ìš° í´ë¼ì´ì–¸íŠ¸ ì½”ë“œëŠ” ë³€ê²½ì—†ì´ ê¸°ëŠ¥ì„ í™•ì¥ ê°€ëŠ¥í•˜ë‹¤


**ì œì–´ì˜ ì—­ì „ IoC(Inversion of Control)**
- ê¸°ì¡´ í”„ë¡œê·¸ë¨ì€ í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ ê°ì²´ê°€ ìŠ¤ìŠ¤ë¡œ í•„ìš”í•œ ì„œë²„ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì—°ê²°í•˜ê³ , ì‹¤í–‰í–ˆë‹¤. 
- í•œë§ˆë””ë¡œ êµ¬í˜„ ê°ì²´ê°€ í”„ë¡œê·¸ë¨ì˜ ì œì–´ íë¦„ì„ ìŠ¤ìŠ¤ë¡œ ì¡°ì¢…í–ˆë‹¤. ì´ëŠ” ê°œë°œì ì…ì¥ì—ì„œëŠ” ìì—°ìŠ¤ëŸ¬ìš´ íë¦„ì´ë‹¤. 
- ë°˜ë©´ì— AppConfigê°€ ë“±ì¥í•œ ì´í›„ì— êµ¬í˜„ ê°ì²´ëŠ” ìì‹ ì˜ ë¡œì§ì„ ì‹¤í–‰í•˜ëŠ” ì—­í• ë§Œ ë‹´ë‹¹í•œë‹¤ 
- (..) ì´ë ‡ë“¯ í”„ë¡œê·¸ë¨ì˜ ì œì–´ íë¦„ì„ ì§ì ‘ ì œì–´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì™¸ë¶€ì—ì„œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ì œì–´ì˜ ì—­ì „ì´ë¼ í•œë‹¤ 


>[!info] í”„ë ˆì„ì›Œí¬ vs ë¼ì´ë¸ŒëŸ¬ë¦¬
>ì œì–´ì˜ íë¦„ì„ ì§ì ‘ ë‹´ë‹¹í•œë‹¤ë©´ `ë¼ì´ë¸ŒëŸ¬ë¦¬`, ëŒ€ì‹  ë‹´ë‹¹í•œë‹¤ë©´ `í”„ë ˆì„ì›Œí¬`ì´ë‹¤


**ì˜ì¡´ ê´€ê³„ ì£¼ì…, DI(Dependency Injection)**
- ì •ì ì¸ í´ë˜ìŠ¤ ì˜ì¡´ ê´€ê³„ì™€ ì‹¤í–‰ ì‹œì ì— ê²°ì •ë˜ëŠ” ë™ì ì¸ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤) ì˜ì¡´ ê´€ê³„ ë‘˜ì„ ë¶„ë¦¬í•´ì„œ ìƒê°í•´ì•¼ í•œë‹¤ 
- **ì •ì ì¸ í´ë˜ìŠ¤ ì˜ì¡´ê´€ê³„**
	- í´ë˜ìŠ¤ê°€ ì‚¬ìš©í•˜ëŠ” import ì½”ë“œë§Œ ë³´ê³  ì˜ì¡´ê´€ê³„ë¥¼ ì‰½ê²Œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤
	- ì •ì ì¸ ì˜ì¡´ ê´€ê³„ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ì§€ ì•Šì•„ë„ ë¶„ì„í•  ìˆ˜ ìˆë‹¤
	- ex. ì¸í„°í˜ì´ìŠ¤ 
		- ì´ë•Œ ì–´ë–¤ êµ¬í˜„ì²´ê°€ ì£¼ì…ë˜ëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤
- **ë™ì ì¸ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ì˜ì¡´ê´€ê³„**
	- ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œì ì— ì‹¤ì œ ìƒì„±ëœ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡°ê°€ ì—°ê²°ëœ ì˜ì¡´ê´€ê³„ë‹¤
		- ì™¸ë¶€ì—ì„œ ì‹¤ì œ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ ì‹¤ì œ ì˜ì¡´ê´€ê²Œê°€ ì—°ê²°ë˜ëŠ” ê²ƒì„ **ì˜ì¡´ê´€ê³„ ì£¼ì…**ì´ë¼ í•œë‹¤
		- ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , ê·¸ ì°¸ì¡°ê°’ì„ ì „ë‹¬í•´ì„œ ì—°ê²°ëœë‹¤
	- DIë¥¼ ì‚¬ìš©í•˜ë©´ 
		- í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , í´ë¼ì´ì–¸íŠ¸ê°€ í˜¸ì¶œí•˜ëŠ” ëŒ€ìƒì˜ íƒ€ì… ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. 
		- ì •ì ì¸ í´ë˜ìŠ¤ ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , ë™ì ì¸ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ì˜ì¡´ê´€ê³„ë¥¼ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ (OCP, DIP ì›ì¹™ ì¤€ìˆ˜)

---

## ì„¹ì…˜5. ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì™€ ìŠ¤í”„ë§ ë¹ˆ 
- `ApplicationContext`ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¼ í•œë‹¤
- ì´ë•Œ `ApplicationContext`ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤
- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” XML ì´ë‚˜ ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ìë°” ì„¤ì • í´ë˜ìŠ¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤
- ìŠ¤í”„ë§ ë¹ˆ ì €ì¥ì†Œì— ë¹ˆ ì´ë¦„ê³¼ ë¹ˆ ê°ì²´ê°€ ì €ì¥ëœë‹¤ 
	- ë¹ˆ ì´ë¦„ì€ **ë©”ì„œë“œëª…**ì„ ë”°ë¥¸ë‹¤
	- `@Bean(name="memberService2")`ê³¼ ê°™ì´ ì§ì ‘ ì»¤ìŠ¤í…€ ë¶€ì—¬ ê°€ëŠ¥ 


// ë¹ˆì„ ì»¨í…Œì´ë„ˆì— ë“±ë¡í•˜ê³  ì¡°íšŒí•˜ëŠ” ì˜ˆì œë¥¼ ì‚´í´ë´„

**ì •ë¦¬**
- ApplicationContextëŠ” BeanFactoryì˜ ê¸°ëŠ¥ì„ ìƒì†ë°›ëŠ”ë‹¤ 
- ApplicationContextëŠ” ë¹ˆ ê´€ë¦¬ ê¸°ëŠ¥ + í¸ë¦¬í•œ ë¶€ê°€ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤
- BeanFactoryë¥¼ ì§ì ‘ ì‚¬ìš©í•  ì¼ì€ ê±°ì˜ ì—†ë‹¤. 
	- ë¶€ê°€ê¸°ëŠ¥ì´ í¬í•¨ëœ ApplicationContextë¥¼ ì‚¬ìš©í•œë‹¤
- BeanFactoryë‚˜ ApplicationContextë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¼ í•œë‹¤ 


ApplicationContext êµ¬í˜„ì²´ ì¤‘ì—
- AnnotationConfigApplicationContextëŠ” í´ë˜ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ë¹ˆ ë“±ë¡ ê°€ëŠ¥ 
- GenericXmlApplicationContextëŠ” xml ê¸°ë°˜ìœ¼ë¡œ ë¹ˆ ë“±ë¡ ê°€ëŠ¥
	- `appConfig.xml` íŒŒì¼ ì°¸ê³ 
		- AppConfig.java ì„¤ì • ì •ë³´ì™€ ê±°ì˜ ë™ì¼


**ìŠ¤í”„ë§ ë¹ˆ ì„¤ì • ë©”íƒ€ ì •ë³´ - BeanDefinition**
- ë¹ˆ ì„¤ì • ë©”íƒ€ ì •ë³´ë¥¼ ê°€ì§„ë‹¤
	- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ë©”íƒ€ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì„ ìƒì„±í•œë‹¤

**BeanDefinition ì‚´í´ë³´ê¸°**
- (ì •ë³´ ìƒëµ)

---

## ì„¹ì…˜6. ì‹±ê¸€í†¤ ì»¨í…Œì´ë„ˆ 

**ì‹±ê¸€í†¤ íŒ¨í„´ì˜ ë¬¸ì œì **
- ì‹±ê¸€í†¤ íŒ¨í„´ì„ êµ¬í˜„í•˜ëŠ” ì½”ë“œ ìì²´ê°€ ë§ì´ ë“¤ì–´ê°„ë‹¤ 
- ì˜ì¡´ê´€ê³„ìƒ í´ë¼ì´ì–¸íŠ¸ê°€ êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´í•œë‹¤ â¡ï¸ DIPë¥¼ ìœ„ë°˜í•œë‹¤ 
- í´ë¼ì´ì–¸íŠ¸ê°€ êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´í•´ì„œ OCP ì›ì¹™ì„ ìœ„í•œë°œ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ 
	- `getInstance()` ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ë‹ˆ..
- í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë µë‹¤ 
	- ë¦¬í”Œë ‰ì…˜ ì·¨ì•½
- ë‚´ë¶€ ì†ì„±ì„ ë³€ê²½í•˜ê±°ë‚˜ ì´ˆê¸°í™”í•˜ê¸° ì–´ë µë‹¤ 
- private ìƒì„±ìë¡œ ì¸í•´ ìì‹ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê¸° ì–´ë µë‹¤ 
- ê²°ë¡ ì ìœ¼ë¡œ ìœ ì—°ì„±ì´ ë–¨ì–´ì§„ë‹¤
- ì•ˆí‹°íŒ¨í„´ìœ¼ë¡œ ë¶ˆë¦¬ê¸°ë„ í•œë‹¤

> âœ… ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ì‹±ê¸€í†¤ ì»¨í…Œì´ë„ˆë¼ê³ ë„ í•œë‹¤. â¡ï¸ ì‹±ê¸€í†¤ íŒ¨í„´ì˜ ë¬¸ì œì ì„ í•´ê²°


> [!info] ì°¸ê³ 
> ìŠ¤í”„ë§ì˜ ê¸°ë³¸ ë¹ˆ ë“±ë¡ ë°©ì‹ì€ ì‹±ê¸€í†¤ì´ì§€ë§Œ, ì‹±ê¸€í†¤ ë°©ì‹ë§Œ ì§€ì›í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ìš”ì²­í• ë•Œ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥ë„ ì œê³µí•œë‹¤. (ìì„¸í•œ ë‚´ìš©ì€ `ë¹ˆ ìŠ¤ì½”í”„`ì—ì„œ ë‹¤ë£¸)

**ì‹±ê¸€í†¤ ë°©ì‹ì˜ ì£¼ì˜ì **
- í•˜ë‚˜ì˜ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— `ë¬´ìƒíƒœ(stateless)`ë¡œ ì„¤ê³„í•´ì•¼ í•œë‹¤
	- íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ì— ì˜ì¡´ì ì¸ í•„ë“œê°€ ìˆìœ¼ë©´ ì•ˆëœë‹¤
	- íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ê°€ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” í•„ë“œê°€ ìˆìœ¼ë©´ ì•ˆëœë‹¤
	- ê°€ê¸‰ì  ì½ê¸°ë§Œ ê°€ëŠ¥í•´ì•¼ í•œë‹¤
	- í•„ë“œ ëŒ€ì‹ ì— ìë°”ì—ì„œ ê³µìœ ë˜ì§€ ì•ŠëŠ”, ì§€ì—­ë³€ìˆ˜, íŒŒë¼ë¯¸í„°, ThreadLocal ë“±ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤
- ğŸ’£ ìŠ¤í”„ë§ ë¹ˆì˜ í•„ë“œì— ê³µìœ  ê°’ì„ ì„¤ì •í•˜ë©´ ì •ë§ í° ì¥ì•  ë°œìƒ ê°€ëŠ¥ !! 


// @Configuration í´ë˜ìŠ¤ì—ì„œ íŒ©í† ë¦¬ ë©”ì„œë“œ í˜¸ì¶œì‹œ ì‹±ê¸€í†¤ ìœ ì§€ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì˜ˆì œ ì‚´í´ë´„ 
// ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì‚¬ìš©ì‹œ **CGLIB** í†µí•´ ìƒì†ë°›ì•„ì„œ í˜¸ì¶œì‹œ ìƒì„±í•´ì„œ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì‹±ê¸€í†¤ ë³´ì¥ 
// ë§Œì•½ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë§¤ë²ˆ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê²Œ ë¨ (ì°¸ì¡° ì£¼ì†Œê°’ì´ í‹€ë¦¼)

> ìŠ¤í”„ë§ ì„¤ì • ì •ë³´ë¥¼ ë‹¤ë£° ë•ŒëŠ” @Configurationì„ ì‚¬ìš©í•˜ì

---
## ì„¹ì…˜ 7. ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”

```java
package hello.core;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.FilterType;
import static org.springframework.context.annotation.ComponentScan.
*;

@Configuration
@ComponentScan(excludeFilters = @Filter(type = FilterType.ANNOTATION, classes = Configuration.class))
public class AutoAppConfig {
	
}
```
- MemberRepository êµ¬í˜„ì²´ 
	- `MemoryMemberRepository`
- DiscountPolicy êµ¬í˜„ì²´ 
	- `RateDiscountPolicy`
- MemberService êµ¬í˜„ì²´ 
	- `MemberServiceImpl`
- OrderService êµ¬í˜„ì²´ 
	- `OrderServiceImpl`
- ì „ë¶€ë‹¤ @Componentì™€ @Autowired ì• ë…¸í…Œì´ì…˜ ì‚¬ìš©í•´ì„œ ì„ ì–¸


```java
package hello.core.scan;
import hello.core.AutoAppConfig;
import hello.core.member.MemberService;
import org.junit.jupiter.api.Test;
import org.springframework.context.ApplicationContext;
import
org.springframework.context.annotation.AnnotationConfigApplicationContext;
import static org.assertj.core.api.Assertions.
*;
public class AutoAppConfigTest {
	@Test
	void basicScan() {
		ApplicationContext ac = new
		AnnotationConfigApplicationContext(AutoAppConfig.class);
		MemberService memberService = ac.getBean(MemberService.class);
		
		assertThat(memberService).isInstanceOf(MemberService.class);
	}
}
```
- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„± í›„ AutoAppConfigë¥¼ ë“±ë¡í•˜ê²Œ ë˜ë©´ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ì—¬ ë¹ˆ ë“±ë¡ 
- `@ComponentScan` ì€ `@Component` ê°€ ë¶™ì€ ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤.
- ì´ë•Œ ìŠ¤í”„ë§ ë¹ˆì˜ ê¸°ë³¸ ì´ë¦„ì€ í´ë˜ìŠ¤ëª…ì„ ì‚¬ìš©í•˜ë˜ ë§¨ ì•ê¸€ìë§Œ ì†Œë¬¸ìë¥¼ ì‚¬ìš©í•œë‹¤.
	- **ë¹ˆ ì´ë¦„ ê¸°ë³¸ ì „ëµ** : MemberServiceImpl í´ë˜ìŠ¤ â¡ï¸ memberServiceImpl
	- **ë¹ˆ ì´ë¦„ ì§ì ‘ ì§€ì •** : ë§Œì•½ ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ì„ ì§ì ‘ ì§€ì •í•˜ê³  ì‹¶ìœ¼ë©´`@Component("memberService2")` ì´ëŸ°ì‹ìœ¼ë¡œ ì´ë¦„ì„ ë¶€ì—¬í•˜ë©´ ëœë‹¤.
- `@Autowired` ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…
	- ê¸°ë³¸ ì¡°íšŒ ì „ëµì€ íƒ€ì…ì´ ê°™ì€ ë¹ˆì„ ì°¾ì•„ì„œ ì£¼ì…í•˜ê²Œ ëœë‹¤

```text
ClassPathBeanDefinitionScanner - Identified candidate component class:
.. RateDiscountPolicy.class
.. MemberServiceImpl.class
.. MemoryMemberRepository.class
.. OrderServiceImpl.class
```


### íƒìƒ‰ ìœ„ì¹˜ì™€ ê¸°ë³¸ ìŠ¤ìº” ëŒ€ìƒ

```java
@ComponentScan(basePackages = "hello.core", .. }
```
- 

---
## ì„¹ì…˜8. ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…
### ë‹¤ì–‘í•œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë°©ë²•
- ìƒì„±ì ì£¼ì… 
- ìˆ˜ì •ì ì£¼ì… (setter)
- í•„ë“œ ì£¼ì… 
- ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…

`ìƒì„±ì ì£¼ì…`
- ìƒì„±ì í˜¸ì¶œ ì‹œì ì— ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥
- **ë¶ˆë³€, í•„ìˆ˜** ì˜ì¡´ê´€ê³„ì—ì„œ ì‚¬ìš©

>[!tip] ìƒì„±ìê°€ ë”± 1ê°œë§Œ ìˆìœ¼ë©´ @Autowiredë¥¼ ìƒëµí•´ë„ ìë™ ì£¼ì…ëœë‹¤. ë¬¼ë¡  ìŠ¤í”„ë§ ë¹ˆì—ë§Œ í•´ë‹¹

`ìˆ˜ì •ì ì£¼ì…(setter)`
- setter ë©”ì„œë“œë¥¼ í†µí•´ ì£¼ì… 
- ì„ íƒ, ë³€ê²½ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©
- ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì˜ ìˆ˜ì •ì ë©”ì„œë“œ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

```java
@Component
public class OrderServiceImpl implements OrderService {
	private MemberRepository memberRepository;
	private DiscountPolicy discountPolicy;
	
	@Autowired
	public void setMemberRepository(MemberRepository memberRepository) {
		this.memberRepository = memberRepository;
	}
	
	@Autowired
	public void setDiscountPolicy(DiscountPolicy discountPolicy) {
		this.discountPolicy = discountPolicy;
	}
}
```
- ê³¼ê±° ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì—ì„œëŠ” setter, getter ì‚¬ìš©í•˜ì—¬ ì½ê±°ë‚˜ ìˆ˜ì • 
	- ìš”ì¦˜ì—ëŠ” ìƒì„±ì ì£¼ì… ë°©ì‹ì´ ì„ í˜¸ë¨
	- ORM ì‚¬ìš©ì‹œ `setter` í†µí•´ì„œ ì—°ê´€ê´€ê³„ ê°±ì‹ ì„ í•˜ê¸°ë„ í•¨

> [!note] @Autowired ì˜ ê¸°ë³¸ ë™ì‘ì€ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. 
> ì£¼ì…í•  ëŒ€ìƒì´ ì—†ì–´ë„ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ @Autowired(required = false) ë¡œ ì§€ì •í•˜ë©´ ë¨


`í•„ë“œ ì£¼ì… ë°©ì‹`
- ì½”ë“œê°€ ê°„ê²°í•´ì„œ ë§ì€ ê°œë°œìë“¤ì„ ìœ íš©í•˜ì§€ë§Œ ì™¸ë¶€ì—ì„œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•´ì„œ í…ŒìŠ¤íŠ¸í•˜ê¸° í˜ë“  ë‹¨ì ì´ ìˆë‹¤
- DI í”„ë ˆì„ì›Œí¬ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤ (âœ… ì‚¬ìš©í•˜ì§€ ë§ì)
	- ë§Œì•½ ì‚¬ìš©í•œë‹¤ë©´ 
		- ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ì½”ë“œì™€ ê´€ê³„ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ 
		- ìŠ¤í”„ë§ ì„¤ì •ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” @Configuration ê°™ì€ ê³³ì—ë§Œ íŠ¹ë³„í•œ ìš©ë„ë¡œ ì‚¬ìš©í•˜ì

> ìƒê°í•´ë³´ë‹ˆ Property ì£¼ì… ë°›ì„ë•Œë‚˜ ì‚¬ìš©í–ˆë˜ê±° ê°™ê¸°ë„ í•˜ê³ 


```java
@Component
public class OrderServiceImpl implements OrderService {
	@Autowired
	private MemberRepository memberRepository;
	
	@Autowired
	private DiscountPolicy discountPolicy;
}
```
- ìˆœìˆ˜ ìë°” í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ë‹¹ì—°íˆ @Autowired ë™ì‘í•˜ì§€ x
	- @SpringBootTestì²˜ëŸ¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ í…ŒìŠ¤íŠ¸ì— í†µí•©í•œ ê²½ìš°ì—ë§Œ ê°€ëŠ¥í•˜ë‹¤

ì•„ë˜ì™€ ê°™ì´ @Beanì—ì„œ íŒŒë¼ë¯¸í„°ì— ì˜ì¡´ê´€ê³„ëŠ” ìë™ ì£¼ì…ëœë‹¤. ìˆ˜ë™ ë“±ë¡ì‹œ ìë™ ë“±ë¡ëœ ë¹ˆì˜ ì˜ì¡´ ê´€ê³„ê°€ í•„ìš”í• ë•Œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤ .

```java
@Bean
OrderService orderService(MemberRepository memberRepoisitory, DiscountPolicy
discountPolicy) {
	return new OrderServiceImpl(memberRepository, discountPolicy);
}
```

`ì¼ë°˜ë©”ì„œë“œ ì£¼ì…`
- í•œë²ˆì— ì—¬ëŸ¬ í•„ë“œë¥¼ ì£¼ì… ë°›ì„ ìˆ˜ ìˆë‹¤ 
- ì¼ë°˜ì ìœ¼ë¡œ ì˜ ì‚¬ìš©í•˜ì§€ x
```java
@Component
public class OrderServiceImpl implements OrderService {
	private MemberRepository memberRepository;
	private DiscountPolicy discountPolicy;
	
	@Autowired
	public void init(MemberRepository memberRepository, DiscountPolicy
	discountPolicy) {
		this.memberRepository = memberRepository;
		this.discountPolicy = discountPolicy;
	}
}
```

> [!note] ë‹¹ì—°í•œ ì–˜ê¸°ì§€ë§Œ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…ì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ê´€ë¦¬í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆë§Œ ê°€ëŠ¥í•˜ë‹¤.
> ìŠ¤í”„ë§ Beanì´ ì•„ë‹Œ POJO í´ë˜ìŠ¤ì˜ ê²½ìš° @Autowired ì½”ë“œë¥¼ ì ìš©í•´ë„ ì•„ë¬´ ê¸°ëŠ¥ë„ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.


### ì˜µì…˜ ì²˜ë¦¬
ì£¼ì…í•  ë¹ˆì´ ì—†ë”ë¼ë„ ë™ì‘í•´ì•¼ í•  ë•Œ ì•„ë˜ì™€ ê°™ì€ 3ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤

- `@Autowired(required=false)` : ìë™ ì£¼ì… ëŒ€ìƒì´ ì—†ìœ¼ë©´ ìˆ˜ì •ì ë©”ì„œë“œ ìì²´ê°€ í˜¸ì¶œë˜ì§€ x
- `org.springframework.lang.@Nullable` : ìë™ ì£¼ì… ëŒ€ìƒì´ ì—…ìŠ¤ë©´ nullì´ ì…ë ¥ëœë‹¤
- `Optional<í´ë˜ìŠ¤ëª…>` : ìë™ ì£¼ì… ëŒ€ìƒì´ ì—†ìœ¼ë©´ Optional.emptyê°€ ì…ë ¥ëœë‹¤

```java

//í˜¸ì¶œ ì•ˆë¨
@Autowired(required = false)
public void setNoBean1(Member member) {
	System.out.println("setNoBean1 = " + member);
}

//null í˜¸ì¶œ
@Autowired
public void setNoBean2(@Nullable Member member) {
	System.out.println("setNoBean2 = " + member); // null
}

//Optional.empty í˜¸ì¶œ
@Autowired(required = false)
public void setNoBean3(Optional<Member> member) {
	System.out.println("setNoBean3 = " + member); // Optional.empty
}
```
- **Member**ëŠ” ìŠ¤í”„ë§ ë¹ˆì´ ì•„ë‹ˆë‹¤
	- ê³ ë¡œ setNoBean1ì€ í˜¸ì¶œ ìì²´ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤


setterë¡œ ì£¼ì… ë°›ì„ ê²½ìš° í…ŒìŠ¤íŠ¸ì—ì„œ ì´ˆê¸°í™”í•˜ì§€ ì•Šì•„ ë’¤ëŠ¦ê²Œ NPE ë°œìƒ ê°€ëŠ¥í•˜ë‹¤ !

```java
@Component
public class OrderServiceImpl implements OrderService {
	private final MemberRepository memberRepository;
	private final DiscountPolicy discountPolicy;
	
	@Autowired
	public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy
	discountPolicy) {
		this.memberRepository = memberRepository;
	}
	//...
}
```
- `final` í‚¤ì›Œë“œ í†µí•´ì„œ ìƒì„±ì ì´ˆê¸°í™”ì‹œ ì—ëŸ¬ í™•ì¸ ê°€ëŠ¥ 

```java
@Test
void createOrder() {
	OrderServiceImpl orderService = new OrderServiceImpl();
	orderService.createOrder(1L, "itemA", 10000);
}

```

>[!tip] ê¸°ì–µí•˜ì! ì»´íŒŒì¼ ì˜¤ë¥˜ëŠ” ì„¸ìƒì—ì„œ ê°€ì¥ ë¹ ë¥´ê³ , ì¢‹ì€ ì˜¤ë¥˜ë‹¤
>ìˆ˜ì •ì ì£¼ì…ì„ í¬í•¨í•œ ë‚˜ë¨¸ì§€ ì£¼ì… ë°©ì‹ì€ ëª¨ë‘ ìƒì„±ì ì´í›„ì— í˜¸ì¶œë˜ë¯€ë¡œ, í•„ë“œì— `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©
>í•  ìˆ˜ ì—†ë‹¤. ì˜¤ì§ ìƒì„±ì ì£¼ì… ë°©ì‹ë§Œ `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤


**ğŸ“Œì •ë¦¬**
- ìƒì„±ì ì£¼ì… ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ, í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦¬ëŠ” ë°©ë²•ì´ê¸°ë„ í•˜ë‹¤.
- ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìˆ˜ì •ì ì£¼ì… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤. ìƒì„±ì ì£¼ì…ê³¼ ìˆ˜ì •ì ì£¼ì…ì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- í•­ìƒ ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•´ë¼! ê·¸ë¦¬ê³  ê°€ë” ì˜µì…˜ì´ í•„ìš”í•˜ë©´ ìˆ˜ì •ì ì£¼ì…ì„ ì„ íƒí•´ë¼. í•„ë“œ ì£¼ì…ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²Œ ì¢‹ë‹¤.

### ìµœì‹  íŠ¸ë Œë“œ, lombok
```gradle
plugins {
	id 'org.springframework.boot' version '2.3.2.RELEASE'
	id 'io.spring.dependency-management' version '1.0.9.RELEASE'
	id 'java'
}

group = 'hello'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '11'

//lombok ì„¤ì • ì¶”ê°€ ì‹œì‘
configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

//lombok ì„¤ì • ì¶”ê°€ ë
repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter'
	//lombok ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ ì‹œì‘
	compileOnly 'org.projectlombok:lombok'
	annotationProcessor 'org.projectlombok:lombok'
	testCompileOnly 'org.projectlombok:lombok'
	testAnnotationProcessor 'org.projectlombok:lombok'
	//lombok ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ ë
	testImplementation('org.springframework.boot:spring-boot-starter-test') {
	exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
	}
}

test {
useJUnitPlatform()
}
```
1. Preferences(ìœˆë„ìš° File Settings) plugin lombok ê²€ìƒ‰ ì„¤ì¹˜ ì‹¤í–‰ (ì¬ì‹œì‘)
2. Preferences Annotation Processors ê²€ìƒ‰ Enable annotation processing ì²´í¬ (ì¬ì‹œì‘)
3. ì„ì˜ì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  @Getter, @Setter í™•ì¸


### ê°™ì€ íƒ€ì…ì˜ ì»´í¬ë„ŒíŠ¸ ë¹ˆì´ ì—¬ëŸ¬ ê°€ì§€ ì¼ ë•Œ
- ì¡°íšŒ ëŒ€ìƒ ë¹ˆì´ 2ê°œ ì´ìƒì¼ ë•Œ í•´ê²° ë°©ë²•
	- 1. `@Autowired` í•„ë“œ ëª… ë§¤ì¹­
	- 2. `@Qualifier` @Qualifierë¼ë¦¬ ë§¤ì¹­ ë¹ˆ ì´ë¦„ ë§¤ì¹­
	- 3. `@Primary` ì‚¬ìš©


**@Autowired** ë§¤ì¹­ ì •ë¦¬
1. íƒ€ì… ë§¤ì¹­
2. íƒ€ì… ë§¤ì¹­ì˜ ê²°ê³¼ê°€ 2ê°œ ì´ìƒì¼ ë•Œ í•„ë“œ ëª…, íŒŒë¼ë¯¸í„° ëª…ìœ¼ë¡œ ë¹ˆ ì´ë¦„ ë§¤ì¹­

`@Qualifier` ì‚¬ìš©
- `@Qualifier` ëŠ” ì¶”ê°€ êµ¬ë¶„ìë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°©ë²•ì´ë‹¤. ì£¼ì…ì‹œ ì¶”ê°€ì ì¸ ë°©ë²•ì„ ì œê³µí•˜ëŠ” ê²ƒì´ì§€ ë¹ˆ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

ë¹ˆ ë“±ë¡ì‹œ @Qualifiterë¥¼ ë¶™ì—¬ ì¤€ë‹¤
```java
@Component
@Qualifier("mainDiscountPolicy")
public class RateDiscountPolicy implements DiscountPolicy {}

@Component
@Qualifier("fixDiscountPolicy")
public class FixDiscountPolicy implements DiscountPolicy {}

```

ì£¼ì… ì˜ˆì‹œ
```java
// ìƒì„±ì ì£¼ì…
@Autowired
public OrderServiceImpl(MemberRepository memberRepository,
@Qualifier("mainDiscountPolicy") DiscountPolicy
discountPolicy) {
	this.memberRepository = memberRepository;
	this.discountPolicy = discountPolicy;
}

// ìˆ˜ì •ì ì£¼ì…
@Autowired
public DiscountPolicy setDiscountPolicy(@Qualifier("mainDiscountPolicy")
DiscountPolicy discountPolicy) {
	this.discountPolicy = discountPolicy;
}

```
`@Qualifier`ë¡œ ì£¼ì…í•  ë•Œ `@Qualifier("mainDiscountPolicy")` ë¥¼ ëª»ì°¾ìœ¼ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ê·¸ëŸ¬ë©´
mainDiscountPolicyë¼ëŠ” ì´ë¦„ì˜ ìŠ¤í”„ë§ ë¹ˆì„ ì¶”ê°€ë¡œ ì°¾ëŠ”ë‹¤. í•˜ì§€ë§Œ ê²½í—˜ìƒ `@Qualifier` ëŠ” `@Qualifier` ë¥¼ ì°¾ëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ëŠ”ê²Œ ëª…í™•í•˜ê³  ì¢‹ë‹¤.

ì•„ë˜ì™€ ê°™ì´ ì§ì ‘ ë¹ˆ ë“±ë¡ì‹œì—ë„ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```java
@Bean
@Qualifier("mainDiscountPolicy")
public DiscountPolicy discountPolicy() {
	return new ...
}
```

**@Qualifier ì •ë¦¬**
1. @Qualifierë¼ë¦¬ ë§¤ì¹­
2. ë¹ˆ ì´ë¦„ ë§¤ì¹­
3. `NoSuchBeanDefinitionException` ì˜ˆì™¸ ë°œìƒ


**@Primary ì‚¬ìš©**
- ë¹ˆì˜ ìš°ì„  ìˆœìœ„ë¥¼ ì •í•˜ëŠ” ë°©ë²•ì´ë‹¤.
- @Autowiredì‹œì— ì—¬ëŸ¬ ë¹ˆì´ ë§¤ì¹­ë˜ë©´ @Primaryê°€ ìš°ì„ ê¶Œì„ ê°€ì§„ë‹¤

```java
@Component
@Primary
public class RateDiscountPolicy implements DiscountPolicy {}

@Component
public class FixDiscountPolicy implements DiscountPolicy {}
```

```java

//ìƒì„±ì ì£¼ì…ì˜ ê²½ìš°
@Autowired
public OrderServiceImpl(MemberRepository memberRepository,
DiscountPolicy discountPolicy) {
	this.memberRepository = memberRepository;
	this.discountPolicy = discountPolicy;
}


//ìˆ˜ì •ìì˜ ê²½ìš°
@Autowired
public DiscountPolicy setDiscountPolicy(DiscountPolicy discountPolicy) {
	this.discountPolicy = discountPolicy;
}

```


@Primaryì™€  @Qualifier ì¤‘ì— ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ ê³ ë¯¼ì´ ë  ê²ƒì´ë‹¤. 
- @Qualifierì˜ ë‹¨ì ì€ ì£¼ì… ë°›ì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ëª¨ë“  ì½”ë“œì— @Qualifiterë¥¼ ë¶™ì—¬ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤. 
- ë°˜ë©´ @Primaryì˜ ê²½ìš° ì• ë…¸í…Œì´ì…˜ì„ ë¹ˆìª½ì— ë¶™ì¼ í•„ìš”ëŠ” ì—†ë‹¤

@Primary, @Qualifier í™œìš©
- ì½”ë“œì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜ì„ íšë“í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆì´ ìˆê³ , ì½”ë“œì—ì„œ íŠ¹ë³„í•œ ê¸°ëŠ¥ìœ¼ë¡œ ê°€ë” ì‚¬ìš©í•˜ëŠ” ì„œë¸Œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜ì„ íšë“í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆì´ ìˆë‹¤ê³  ìƒê°í•´ë³´ì. ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜ì„ íšë“í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆì€ `@Primary` ë¥¼ ì ìš©í•´ì„œ ì¡°íšŒí•˜ëŠ” ê³³ì—ì„œ `@Qualifier` ì§€ì • ì—†ì´ í¸ë¦¬í•˜ê²Œ ì¡°íšŒí•˜ê³ , ì„œë¸Œ ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ë¹ˆì„ íšë“í•  ë•ŒëŠ” `@Qualifier` ë¥¼ ì§€ì •í•´ì„œ ëª…ì‹œì ìœ¼ë¡œ íšë“ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œìœ ì§€í•  ìˆ˜ ìˆë‹¤. ë¬¼ë¡  ì´ë•Œ ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•  ë•Œ `@Qualifier` ë¥¼ ì§€ì •í•´ì£¼ëŠ” ê²ƒì€ ìƒê´€ì—†ë‹¤.

**ìš°ì„ ìˆœìœ„**
- `@Primary` ëŠ” ê¸°ë³¸ê°’ ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ê²ƒì´ê³ , `@Qualifier` ëŠ” ë§¤ìš° ìƒì„¸í•˜ê²Œ ë™ì‘í•œë‹¤. ì´ëŸ° ê²½ìš° ì–´ë–¤ ê²ƒì´ ìš°ì„ ê¶Œì„ê°€ì ¸ê°ˆê¹Œ? <u>ìŠ¤í”„ë§ì€ ìë™ë³´ë‹¤ëŠ” ìˆ˜ë™ì´, ë„’ì€ ë²”ìœ„ì˜ ì„ íƒê¶Œ ë³´ë‹¤ëŠ” ì¢ì€ ë²”ìœ„ì˜ ì„ íƒê¶Œì´ ìš°ì„  ìˆœìœ„ê°€ ë†’ë‹¤. ë”°ë¼ì„œ ì—¬ê¸°ì„œë„ `@Qualifier` ê°€ ìš°ì„ ê¶Œì´ ë†’ë‹¤</u>
	- êµ¬ì²´ì ì¸ê²Œ ìš°ì„  ìˆœìœ„ê°€ ë†’ë‹¤!


### ì• ë…¸í…Œì´ì…˜ ì§ì ‘ ë§Œë“¤ê¸° 
`@Qualifier("mainDiscountPolicy")` ì´ë ‡ê²Œ ë¬¸ìë¥¼ ì ìœ¼ë©´ ì»´íŒŒì¼ì‹œ íƒ€ì… ì²´í¬ê°€ ì•ˆëœë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì• ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ì–´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```java
import org.springframework.beans.factory.annotation.Qualifier;
import java.lang.annotation.*;
@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER,
ElementType.TYPE, ElementType.ANNOTATION_TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Qualifier("mainDiscountPolicy")
public @interface MainDiscountPolicy {
}


// ì• ë…¸í…Œì´ì…˜ ì¶”ê°€
@Component
@MainDiscountPolicy
public class RateDiscountPolicy implements DiscountPolicy {}


//ìƒì„±ì ìë™ ì£¼ì…
@Autowired
public OrderServiceImpl(MemberRepository memberRepository,
@MainDiscountPolicy DiscountPolicy discountPolicy) {
	this.memberRepository = memberRepository;
	this.discountPolicy = discountPolicy;
}

//ìˆ˜ì •ì ìë™ ì£¼ì…
@Autowired
public DiscountPolicy setDiscountPolicy(@MainDiscountPolicy DiscountPolicy
discountPolicy) {
	this.discountPolicy = discountPolicy;
}
```

ì• ë…¸í…Œì´ì…˜ì—ëŠ” ìƒì†ì´ë¼ëŠ” ê°œë…ì´ ì—†ë‹¤. ì´ë ‡ê²Œ ì—¬ëŸ¬ ì• ë…¸í…Œì´ì…˜ì„ ëª¨ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì€ ìŠ¤í”„ë§ì´ ì§€ì›í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤. `@Qualifier` ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì• ë…¸í…Œì´ì…˜ë“¤ë„ í•¨ê»˜ ì¡°í•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¨ì ìœ¼ë¡œ `@Autowired`ë„ ì¬ì •ì˜ í•  ìˆ˜ ìˆë‹¤. ë¬¼ë¡  ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ëšœë ·í•œ ëª©ì  ì—†ì´ ë¬´ë¶„ë³„í•˜ê²Œ ì¬ì •ì˜ í•˜ëŠ” ê²ƒì€ ìœ ì§€ë³´ìˆ˜ì— ë” í˜¼ë€ë§Œ ê°€ì¤‘í•  ìˆ˜ ìˆë‹¤.

### ì¡°íšŒí•œ ë¹ˆì´ ëª¨ë‘ í•„ìš”í•  ë•Œ (List, Map)

```java
package hello.core.autowired;
import hello.core.AutoAppConfig;
import hello.core.discount.DiscountPolicy;
import hello.core.member.Grade;
import hello.core.member.Member;
import org.junit.jupiter.api.Test;
import org.springframework.context.ApplicationContext;
import
org.springframework.context.annotation.AnnotationConfigApplicationContext;
import java.util.List;
import java.util.Map;
import static org.assertj.core.api.Assertions.assertThat;
public class AllBeanTest {
	
	@Test
	void findAllBean() {
		ApplicationContext ac = new
		AnnotationConfigApplicationContext(AutoAppConfig.class, DiscountService.class);
		DiscountService discountService = ac.getBean(DiscountService.class);
		Member member = new Member(1L, "userA", Grade.VIP);
		int discountPrice = discountService.discount(member, 10000,
		"fixDiscountPolicy");
		
		assertThat(discountService).isInstanceOf(DiscountService.class);
		assertThat(discountPrice).isEqualTo(1000);
	}

static class DiscountService {
	private final Map<String, DiscountPolicy> policyMap;
	private final List<DiscountPolicy> policies;
	
	public DiscountService(Map<String, DiscountPolicy> policyMap,
	List<DiscountPolicy> policies) {
		this.policyMap = policyMap;
		this.policies = policies;
		System.out.println("policyMap = " + policyMap);
		System.out.println("policies = " + policies);
	}
	
	public int discount(Member member, int price, String discountCode) {
		DiscountPolicy discountPolicy = policyMap.get(discountCode);
		System.out.println("discountCode = " + discountCode);
		System.out.println("discountPolicy = " + discountPolicy);
		return discountPolicy.discount(member, price);
	}
}
}
```
**ğŸ“Œ ì£¼ì… ë¶„ì„**
- `Map<String, DiscountPolicy>` : mapì˜ í‚¤ì— ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ì„ ë„£ì–´ì£¼ê³ , ê·¸ ê°’ìœ¼ë¡œ `DiscountPolicy` íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•œ ëª¨ë“  ìŠ¤í”„ë§ ë¹ˆì„ ë‹´ì•„ì¤€ë‹¤.
- `List<DiscountPolicy>` : `DiscountPolicy` íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•œ ëª¨ë“  ìŠ¤í”„ë§ ë¹ˆì„ ë‹´ì•„ì¤€ë‹¤.
- ë§Œì•½ í•´ë‹¹í•˜ëŠ” íƒ€ì…ì˜ ìŠ¤í”„ë§ ë¹ˆì´ ì—†ìœ¼ë©´, ë¹ˆ ì»¬ë ‰ì…˜ì´ë‚˜ Mapì„ ì£¼ì…í•œë‹¤.

**ì°¸ê³ . ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ë©´ì„œ ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡í•˜ê¸°**

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ìƒì„±ìì— í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë°›ëŠ”ë‹¤. ì—¬ê¸°ì— í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê¸°ë©´ í•´ë‹¹ í´ë˜ìŠ¤ê°€ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìë™ ë“±ë¡ëœë‹¤.`new AnnotationConfigApplicationContext(AutoAppConfig.class,DiscountService.class);`
- AutoAppConfigì™€ DiscountServiceê°€ ìŠ¤í”„ë§ ë¹ˆ ìƒì„±/ë“±ë¡ëœë‹¤


### ìë™, ìˆ˜ë™ì˜ ì˜¬ë°”ë¥¸ ì‹¤ë¬´ ìš´ì˜ ê¸°ì¤€ 

**í¸ë¦¬í•œ ìë™ ê¸°ëŠ¥ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ì**
ê·¸ëŸ¬ë©´ ì–´ë–¤ ê²½ìš°ì— ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ìë™ ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , ì–´ë–¤ ê²½ìš°ì— ì„¤ì • ì •ë³´ë¥¼ í†µí•´ì„œ ìˆ˜ë™ìœ¼ë¡œ ë¹ˆì„ ë“±ë¡í•˜ê³ ,ì˜ì¡´ê´€ê³„ë„ ìˆ˜ë™ìœ¼ë¡œ ì£¼ì…í•´ì•¼ í• ê¹Œ?

ê²°ë¡ ë¶€í„° ì´ì•¼ê¸°í•˜ë©´, ìŠ¤í”„ë§ì´ ë‚˜ì˜¤ê³  ì‹œê°„ì´ ê°ˆ ìˆ˜ë¡ ì ì  ìë™ì„ ì„ í˜¸í•˜ëŠ” ì¶”ì„¸ë‹¤. ìŠ¤í”„ë§ì€ `@Component` ë¿ë§Œ ì•„ë‹ˆë¼ `@Controller` , `@Service` , `@Repository` ì²˜ëŸ¼ ê³„ì¸µì— ë§ì¶”ì–´ ì¼ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì„ ìë™ìœ¼ë¡œ ìŠ¤ìº”í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤. ê±°ê¸°ì— ë”í•´ì„œ ìµœê·¼ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ë‹¤ì–‘í•œ ìŠ¤í”„ë§ ë¹ˆë“¤ë„ ì¡°ê±´ì´ ë§ìœ¼ë©´ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ë„ë¡ ì„¤ê³„í–ˆë‹¤.

ì„¤ì • ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•˜ëŠ” ë¶€ë¶„ê³¼ ì‹¤ì œ ë™ì‘í•˜ëŠ” ë¶€ë¶„ì„ ëª…í™•í•˜ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì´ìƒì ì´ì§€ë§Œ, ê°œë°œì ì…ì¥ì—ì„œ ìŠ¤í”„ë§ ë¹ˆì„ í•˜ë‚˜ ë“±ë¡í•  ë•Œ `@Component` ë§Œ ë„£ì–´ì£¼ë©´ ëë‚˜ëŠ” ì¼ì„ `@Configuration` ì„¤ì • ì •ë³´ì— ê°€ì„œ `@Bean` ì„ ì ê³ , ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì£¼ì…í•  ëŒ€ìƒì„ ì¼ì¼ì´ ì ì–´ì£¼ëŠ” ê³¼ì •ì€ ìƒë‹¹íˆ ë²ˆê±°ë¡­ë‹¤.
- ë˜ ê´€ë¦¬í•  ë¹ˆì´ ë§ì•„ì„œ ì„¤ì • ì •ë³´ê°€ ì»¤ì§€ë©´ ì„¤ì • ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒ ìì²´ê°€ ë¶€ë‹´ì´ ëœë‹¤.
- ê·¸ë¦¬ê³  ê²°ì •ì ìœ¼ë¡œ ìë™ ë¹ˆ ë“±ë¡ì„ ì‚¬ìš©í•´ë„ OCP, DIPë¥¼ ì§€í‚¬ ìˆ˜ ìˆë‹¤.

**ê·¸ëŸ¬ë©´ ìˆ˜ë™ ë¹ˆ ë“±ë¡ì€ ì–¸ì œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?**

ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í¬ê²Œ ì—…ë¬´ ë¡œì§ê³¼ ê¸°ìˆ  ì§€ì› ë¡œì§ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.
- ****ì—…ë¬´** **ë¡œì§** **ë¹ˆ**:** ì›¹ì„ ì§€ì›í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬, í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆëŠ” ì„œë¹„ìŠ¤, ë°ì´í„° ê³„ì¸µì˜ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ë¦¬í¬ì§€í† ë¦¬ë“±ì´ ëª¨ë‘ ì—…ë¬´ ë¡œì§ì´ë‹¤. ë³´í†µ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì„ ê°œë°œí•  ë•Œ ì¶”ê°€ë˜ê±°ë‚˜ ë³€ê²½ëœë‹¤.
- ****ê¸°ìˆ ** **ì§€ì›** **ë¹ˆ**:** ê¸°ìˆ ì ì¸ ë¬¸ì œë‚˜ ê³µí†µ ê´€ì‹¬ì‚¬(AOP)ë¥¼ ì²˜ë¦¬í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ë‚˜, ê³µí†µ ë¡œê·¸ì²˜ë¦¬ ì²˜ëŸ¼ ì—…ë¬´ ë¡œì§ì„ ì§€ì›í•˜ê¸° ìœ„í•œ í•˜ë¶€ ê¸°ìˆ ì´ë‚˜ ê³µí†µ ê¸°ìˆ ë“¤ì´ë‹¤.
- ì—…ë¬´ ë¡œì§ì€ ìˆ«ìë„ ë§¤ìš° ë§ê³ , í•œë²ˆ ê°œë°œí•´ì•¼ í•˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤, ë¦¬í¬ì§€í† ë¦¬ ì²˜ëŸ¼ ì–´ëŠì •ë„ ìœ ì‚¬í•œ íŒ¨í„´ì´ ìˆë‹¤. ì´ëŸ° ê²½ìš° ìë™ ê¸°ëŠ¥ì„ ì ê·¹ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë³´í†µ ë¬¸ì œê°€ ë°œìƒí•´ë„ ì–´ë–¤ ê³³ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ì§€ ëª…í™•í•˜ê²Œ íŒŒì•…í•˜ê¸° ì‰½ë‹¤.
- ê¸°ìˆ  ì§€ì› ë¡œì§ì€ ì—…ë¬´ ë¡œì§ê³¼ ë¹„êµí•´ì„œ ê·¸ ìˆ˜ê°€ ë§¤ìš° ì ê³ , ë³´í†µ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ë°˜ì— ê±¸ì³ì„œ ê´‘ë²”ìœ„í•˜ê²Œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤. ê·¸ë¦¬ê³  ì—…ë¬´ ë¡œì§ì€ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì–´ë””ê°€ ë¬¸ì œì¸ì§€ ëª…í™•í•˜ê²Œ ì˜ ë“œëŸ¬ë‚˜ì§€ë§Œ, ê¸°ìˆ  ì§€ì› ë¡œì§ì€ ì ìš©ì´ ì˜ ë˜ê³  ìˆëŠ”ì§€ ì•„ë‹Œì§€ ì¡°ì°¨ íŒŒì•…í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ê°€ ë§ë‹¤. ê·¸ë˜ì„œ ì´ëŸ° ê¸°ìˆ  ì§€ì› ë¡œì§ë“¤ì€ ê°€ê¸‰ì  ìˆ˜ë™ ë¹ˆ ë“±ë¡ì„ ì‚¬ìš©í•´ì„œ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚´ëŠ” ê²ƒì´ ì¢‹ë‹¤.

****ì• í”Œë¦¬ì¼€ì´ì…˜ì—** **ê´‘ë²”ìœ„í•˜ê²Œ** **ì˜í–¥ì„** **ë¯¸ì¹˜ëŠ”** **ê¸°ìˆ ** **ì§€ì›** **ê°ì²´ëŠ”** **ìˆ˜ë™** **ë¹ˆìœ¼ë¡œ** **ë“±ë¡í•´ì„œ** **ë”±**! **ì„¤ì •** **ì •ë³´ì—** **ë°”ë¡œ** **ë‚˜íƒ€ë‚˜ê²Œ** **í•˜ëŠ”****ê²ƒì´** **ìœ ì§€ë³´ìˆ˜** **í•˜ê¸°** **ì¢‹ë‹¤**.**


**ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì¤‘ì—ì„œ ë‹¤í˜•ì„±ì„ ì ê·¹ í™œìš©í•  ë•Œ**

ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì… - ì¡°íšŒí•œ ë¹ˆì´ ëª¨ë‘ í•„ìš”í•  ë•Œ, List, Mapì„ ë‹¤ì‹œ ë³´ì.

`DiscountService` ê°€ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…ìœ¼ë¡œ `Map<String, DiscountPolicy>` ì— ì£¼ì…ì„ ë°›ëŠ” ìƒí™©ì„ ìƒê°í•´ë³´ì. ì—¬ê¸°ì— ì–´ë–¤ ë¹ˆë“¤ì´ ì£¼ì…ë  ì§€, ê° ë¹ˆë“¤ì˜ ì´ë¦„ì€ ë¬´ì—‡ì¼ì§€ ì½”ë“œë§Œ ë³´ê³  í•œë²ˆì— ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆì„ê¹Œ? ë‚´ê°€ ê°œë°œí–ˆìœ¼ë‹ˆ í¬ê²Œ ê´€ê³„ê°€ ì—†ì§€ë§Œ, ë§Œì•½ ì´ ì½”ë“œë¥¼ ë‹¤ë¥¸ ê°œë°œìê°€ ê°œë°œí•´ì„œ ë‚˜ì—ê²Œ ì¤€ ê²ƒì´ë¼ë©´ ì–´ë–¨ê¹Œ?

ìë™ ë“±ë¡ì„ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— íŒŒì•…í•˜ë ¤ë©´ ì—¬ëŸ¬ ì½”ë“œë¥¼ ì°¾ì•„ë´ì•¼ í•œë‹¤.ì´ëŸ° ê²½ìš° ìˆ˜ë™ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê±°ë‚˜ ë˜ëŠ” ìë™ìœ¼ë¡œí•˜ë©´ ****íŠ¹ì •** **íŒ¨í‚¤ì§€ì—** **ê°™ì´** **ë¬¶ì–´****ë‘ëŠ”ê²Œ ì¢‹ë‹¤! í•µì‹¬ì€ ë”± ë³´ê³  ì´í•´ê°€ ë˜ì–´ì•¼ í•œë‹¤!

ì´ ë¶€ë¶„ì„ ë³„ë„ì˜ ì„¤ì • ì •ë³´ë¡œ ë§Œë“¤ê³  ìˆ˜ë™ìœ¼ë¡œ ë“±ë¡í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
```java
@Configuration
public class DiscountPolicyConfig {
	@Bean
	public DiscountPolicy rateDiscountPolicy() {
		return new RateDiscountPolicy();
	}
	
	@Bean
	public DiscountPolicy fixDiscountPolicy() {
		return new FixDiscountPolicy();
	}
}
```
ì´ ì„¤ì • ì •ë³´ë§Œ ë´ë„ í•œëˆˆì— ë¹ˆì˜ ì´ë¦„ì€ ë¬¼ë¡ ì´ê³ , ì–´ë–¤ ë¹ˆë“¤ì´ ì£¼ì…ë ì§€ íŒŒì•…í•  ìˆ˜ ìˆë‹¤. ê·¸ë˜ë„ ë¹ˆ ìë™ ë“±ë¡ì„ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ íŒŒì•…í•˜ê¸° ì¢‹ê²Œ `DiscountPolicy` ì˜ êµ¬í˜„ ë¹ˆë“¤ë§Œ ë”°ë¡œ ëª¨ì•„ì„œ íŠ¹ì • íŒ¨í‚¤ì§€ì— ëª¨ì•„ë‘ì.

ì°¸ê³ ë¡œ ****ìŠ¤í”„ë§ê³¼** **ìŠ¤í”„ë§** **ë¶€íŠ¸ê°€** **ìë™ìœ¼ë¡œ** **ë“±ë¡í•˜ëŠ”** **ìˆ˜** **ë§ì€** **ë¹ˆë“¤ì€** **ì˜ˆì™¸****ë‹¤. ì´ëŸ° ë¶€ë¶„ë“¤ì€ ìŠ¤í”„ë§ ìì²´ë¥¼ ì˜ ì´í•´í•˜ê³  ìŠ¤í”„ë§ì˜ ì˜ë„ëŒ€ë¡œ ì˜ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ê²½ìš° `DataSource` ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì— ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ  ì§€ì› ë¡œì§ê¹Œì§€ ë‚´ë¶€ì—ì„œ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ”ë°, ì´ëŸ° ë¶€ë¶„ì€ ë©”ë‰´ì–¼ì„ ì˜ ì°¸ê³ í•´ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì˜ë„í•œ ëŒ€ë¡œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ë°˜ë©´ì— ****ìŠ¤í”„ë§** **ë¶€íŠ¸ê°€** **ì•„ë‹ˆë¼** **ë‚´ê°€** **ì§ì ‘** **ê¸°ìˆ ** **ì§€ì›** **ê°ì²´ë¥¼** **ìŠ¤í”„ë§** **ë¹ˆìœ¼ë¡œ** **ë“±ë¡í•œë‹¤ë©´** **ìˆ˜ë™ìœ¼ë¡œ** **ë“±ë¡í•´****ì„œ** **ëª…í™•í•˜ê²Œ** **ë“œëŸ¬ë‚´ëŠ”** **ê²ƒì´** **ì¢‹ë‹¤**

**âœ… ì •ë¦¬**
- í¸ë¦¬í•œ ìë™ ê¸°ëŠ¥ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ì
- ì§ì ‘ ë“±ë¡í•˜ëŠ” ê¸°ìˆ  ì§€ì› ê°ì²´ëŠ” ìˆ˜ë™ ë“±ë¡
- ë‹¤í˜•ì„±ì„ ì ê·¹ í™œìš©í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ìˆ˜ë™ ë“±ë¡ì„ ê³ ë¯¼í•´ë³´ì

---
## ì„¹ì…˜ 9. ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±
```java
package hello.core.lifecycle;

public class NetworkClient {
	private String url;
	
	public NetworkClient() {
		System.out.println("ìƒì„±ì í˜¸ì¶œ, url = " + url);
		connect();
		call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
	}
	
	public void setUrl(String url) {
		this.url = url;
	}
	
	//ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
	public void connect() {
		System.out.println("connect: " + url);
	}
	
	public void call(String message) {
		System.out.println("call: " + url + " message = " + message);
	}
	
	//ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
	public void disconnect() {
		System.out.println("close: " + url);
	}
}
```


```java
package hello.core.lifecycle;
import org.junit.jupiter.api.Test;
import org.springframework.context.ApplicationContext;
import
org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

public class BeanLifeCycleTest {
	
	@Test
	public void lifeCycleTest() {
		ConfigurableApplicationContext ac = new
		AnnotationConfigApplicationContext(LifeCycleConfig.class);
		NetworkClient client = ac.getBean(NetworkClient.class);
		ac.close(); //ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œ, ConfigurableApplicationContext í•„ìš”
	}

	@Configuration
	static class LifeCycleConfig {
		@Bean
		public NetworkClient networkClient() {
			NetworkClient networkClient = new NetworkClient();
			networkClient.setUrl("http://hello-spring.dev");
			return networkClient;
		}
	}
}
```

```text
ìƒì„±ì í˜¸ì¶œ, url = null
connect: null
call: null message = ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€
```
- ìƒì„±ì ì´ˆê¸°í™”ì‹œ urlì´ ì£¼ì…ë˜ì§€ ì•Šì€ ìƒíƒœ
	- Bean ì´ˆê¸°í™”ì‹œ ìƒì„±ì ì´ˆê¸°í™”í›„ setter í˜¸ì¶œí•˜ì—¬ ìœ„ì™€ ê°™ì€ ë©”ì‹œì§€ ì¶œë ¥


ìŠ¤í”„ë§ ë¹ˆì€ ê°„ë‹¨í•˜ê²Œ ë‹¤ìŒê³¼ ê°™ì€ ë¼ì´í”„ì‚¬ì´í´ì„ ê°€ì§„ë‹¤.

> ê°ì²´ ìƒì„± â¡ï¸ ì˜ì¡´ê´€ê³„ ì£¼ì…

ìŠ¤í”„ë§ ë¹ˆì€ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ë‹¤ ëë‚œ ë‹¤ìŒì—ì•¼ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¤€ë¹„ê°€ ì™„ë£Œëœë‹¤. ë”°ë¼ì„œ ì´ˆê¸°í™” ì‘ì—…ì€ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ëª¨ë‘ ì™„ë£Œë˜ê³  ë‚œ ë‹¤ìŒì— í˜¸ì¶œí•´ì•¼ í•œë‹¤. ê·¸ëŸ°ë° ê°œë°œìê°€ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ëª¨ë‘ ì™„ë£Œëœ ì‹œì ì„ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆì„ê¹Œ? (ì´ˆê¸°í™”ì™€ ì¢…ë£Œ ì‹œì ì— ì½œë°± ì œê³µğŸ“Œ)

****ìŠ¤í”„ë§ì€** **ì˜ì¡´ê´€ê³„** **ì£¼ì…ì´** **ì™„ë£Œë˜ë©´** **ìŠ¤í”„ë§** **ë¹ˆì—ê²Œ** **ì½œë°±** **ë©”ì„œë“œë¥¼** **í†µí•´ì„œ** **ì´ˆê¸°í™”** **ì‹œì ì„** **ì•Œë ¤ì£¼ëŠ”** **ë‹¤ì–‘í•œ** **ê¸°ëŠ¥ì„** **ì œê³µ****í•œë‹¤. ë˜í•œ ****ìŠ¤í”„ë§ì€** **ìŠ¤í”„ë§** **ì»¨í…Œì´ë„ˆê°€** **ì¢…ë£Œë˜ê¸°** **ì§ì „ì—** **ì†Œë©¸** **ì½œë°±****ì„ ì¤€ë‹¤. ë”°ë¼ì„œ ì•ˆì „í•˜ê²Œ ì¢…ë£Œ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

**ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë²¤íŠ¸ ë¼ì´í”„ ì‚¬ì´í´**
> ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„± â¡ï¸ ìŠ¤í”„ë§ ë¹ˆ ìƒì„± â¡ï¸ ì˜ì¡´ê´€ê³„ ì£¼ì… â¡ï¸ ì´ˆê¸°í™” ì½œë°± â¡ï¸ ì‚¬ìš© â¡ï¸ ì†Œë©¸ì „ ì½œë°± â¡ï¸ ìŠ¤í”„ë§ ì¢…ë£Œ
- ì´ˆê¸°í™” ì½œë°± : ë¹ˆì´ ìƒì„±ë˜ê³ , ë¹ˆì˜ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ì™„ë£Œëœ í›„ í˜¸ì¶œ 
- ì†Œë©¸ì „ ì½œë°±: ë¹ˆì´ ì†Œë©¸ë˜ê¸° ì§ì „ì— í˜¸ì¶œ

> [!note] ê°ì²´ì˜ ìƒì„±ê³¼ ì´ˆê¸°í™”ë¥¼ ë¶„ë¦¬í•˜ì 
> ìƒì„±ìëŠ” í•„ìˆ˜ ì •ë³´(íŒŒë¼ë¯¸í„°)ë¥¼ ë°›ê³ , ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•´ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì±…ì„ì„ ê°€ì§„ë‹¤. ë°˜ë©´ì— ì´ˆê¸°í™”ëŠ” ì´ë ‡ê²Œ ìƒì„±ëœ ê°’ë“¤ì„ í™œìš©í•´ì„œ ì™¸ë¶€ ì»¤ë„¥ì…˜ì„ ì—°ê²°í•˜ëŠ”ë“± ë¬´ê±°ìš´ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤. ë”°ë¼ì„œ ìƒì„±ì ì•ˆì—ì„œ ë¬´ê±°ìš´ ì´ˆê¸°í™” ì‘ì—…ì„ í•¨ê»˜ í•˜ëŠ” ê²ƒ ë³´ë‹¤ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ê³¼ ì´ˆê¸°í™” í•˜ëŠ” ë¶€ë¶„ì„ ëª…í™•í•˜ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ìœ ì§€ë³´ìˆ˜ ê´€ì ì—ì„œ ì¢‹ë‹¤. ë¬¼ë¡  ì´ˆê¸°í™” ì‘ì—…ì´ ë‚´ë¶€ ê°’ë“¤ë§Œ ì•½ê°„ ë³€ê²½í•˜ëŠ” ì •ë„ë¡œ ë‹¨ìˆœí•œ ê²½ìš°ì—ëŠ” ìƒì„±ìì—ì„œ í•œë²ˆì— ë‹¤ ì²˜ë¦¬í•˜ëŠ”ê²Œ ë” ë‚˜ì„ ìˆ˜ ìˆë‹¤

>[!note] 
> ì‹±ê¸€í†¤ ë¹ˆë“¤ì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë  ë•Œ ì‹±ê¸€í†¤ ë¹ˆë“¤ë„ í•¨ê»˜ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œ
ë˜ê¸° ì§ì „ì— ì†Œë©¸ì „ ì½œë°±ì´ ì¼ì–´ë‚œë‹¤. ë’¤ì—ì„œ ì„¤ëª…í•˜ê² ì§€ë§Œ ì‹±ê¸€í†¤ ì²˜ëŸ¼ ì»¨í…Œì´ë„ˆì˜ ì‹œì‘ê³¼ ì¢…ë£Œê¹Œì§€ ìƒì¡´í•˜ëŠ” ë¹ˆë„ ìˆì§€ë§Œ, ìƒëª…ì£¼ê¸°ê°€ ì§§ì€ ë¹ˆë“¤ë„ ìˆëŠ”ë° ì´ ë¹ˆë“¤ì€ ì»¨í…Œì´ë„ˆì™€ ë¬´ê´€í•˜ê²Œ í•´ë‹¹ ë¹ˆì´ ì¢…ë£Œë˜ê¸° ì§ì „ì— ì†Œë©¸ì „ ì½œë°±ì´ ì¼ì–´ë‚œë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ìŠ¤ì½”í”„ì—ì„œ ì•Œì•„ë³´ê² ë‹¤.

**ìŠ¤í”„ë§ì€ í¬ê²Œ 3ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±ì„ ì§€ì›í•œë‹¤**
- ì¸í„°í˜ì´ìŠ¤(InitializingBean, DisposableBean)
- ì„¤ì • ì •ë³´ì— ì´ˆê¸°í™” ë©”ì„œë“œ, ì¢…ë£Œ ë©”ì„œë“œ ì§€ì •
- @PostConstruct, @PreDestroy ì• ë…¸í…Œì´ì…˜ ì§€ì›

### InitializingBean, DisposableBean ë°©ì‹ 

```java
package hello.core.lifecycle;
import org.springframework.beans.factory.DisposableBean;
import org.springframework.beans.factory.InitializingBean;
public class NetworkClient implements InitializingBean, DisposableBean {
	private String url;
	
	public NetworkClient() {
		System.out.println("ìƒì„±ì í˜¸ì¶œ, url = " + url);
	}
	
	public void setUrl(String url) {
		this.url = url;
	}
	
	//ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
	public void connect() {
		System.out.println("connect: " + url);
	}
	
	public void call(String message) {
		System.out.println("call: " + url + " message = " + message);
	}
	
	//ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
	public void disConnect() {
		System.out.println("close + " + url);
	}
	
	@Override
	public void afterPropertiesSet() throws Exception {
		connect();
		call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
	}
	
	@Override
	public void destroy() throws Exception {
		disConnect();
	}
}
```

```text
ìƒì„±ì í˜¸ì¶œ, url = null
NetworkClient.afterPropertiesSet
connect: http://hello-spring.dev
call: http://hello-spring.dev message = ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€
13:24:49.043 [main] DEBUG
org.springframework.context.annotation.AnnotationConfigApplicationContext -
Closing NetworkClient.destroy
close + http://hello-spring.dev
```
- urlì´ ìƒì„±ì ì´ˆê¸°í™”ì—ì„œëŠ” nullì´ì§€ë§Œ setter í†µí•´ ì£¼ì…ë˜ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤
- ê·¸ë¦¬ê³  ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ì¢…ë£Œê°€ í˜¸ì¶œë˜ì ì†Œë©¸ ë©”ì„œë“œê°€ í˜¸ì¶œ ëœ ê²ƒë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

**ì¸í„°í˜ì´ìŠ¤ ë°©ì‹ì˜ ë‹¨ì **
- ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ìŠ¤í”„ë§ ì „ìš© ì¸í„°í˜ì´ìŠ¤ë‹¤. í•´ë‹¹ ì½”ë“œê°€ ìŠ¤í”„ë§ ì „ìš© ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•œë‹¤.
- ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œì˜ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤
- ë‚´ê°€ ì½”ë“œë¥¼ ê³ ì¹  ìˆ˜ ì—†ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì ìš©í•  ìˆ˜ ì—†ë‹¤ 

> ì´ ë°©ì‹ì€ **âœ… ìŠ¤í”„ë§ ì´ˆì°½ê¸°ì— ë‚˜ì˜¨ ë°©ë²•**ì´ê³ , ë‹¤ìŒì˜ ë”ë‚˜ì€ ë°©ë²•ë“¤ì´ ìˆì–´ ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤


### ë¹ˆ ë“±ë¡ ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œ ì§€ì •

@Configuration í´ë˜ìŠ¤ ì •ì˜ì‹œ ì„¤ì • ì •ë³´ì— `@Bean(initMethod = "init", destroyMethod = "close")` ì²˜ëŸ¼ ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

```java
package hello.core.lifecycle;
public class NetworkClient {
private String url;
public NetworkClient() {
System.out.println("ìƒì„±ì í˜¸ì¶œ, url = " + url);
}
public void setUrl(String url) {
this.url = url;
}
//ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
public void connect() {
System.out.println("connect: " + url);
}
public void call(String message) {
System.out.println("call: " + url + " message = " + message);
}
//ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
public void disConnect() {
System.out.println("close + " + url);
}
public void init() {
System.out.println("NetworkClient.init");
connect();
call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
}
public void close() {
System.out.println("NetworkClient.close");
disConnect();
}
}
```

```java
@Configuration
static class LifeCycleConfig {
	
	@Bean(initMethod = "init", destroyMethod = "close")
	public NetworkClient networkClient() {
		NetworkClient networkClient = new NetworkClient();
		networkClient.setUrl("http://hello-spring.dev");
		return networkClient;
	}
}
```

**ë™ì¼ ê²°ê³¼**
```text
ìƒì„±ì í˜¸ì¶œ, url = null
NetworkClient.init
connect: http://hello-spring.dev
call: http://hello-spring.dev message = ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€
13:33:10.029 [main] DEBUG
org.springframework.context.annotation.AnnotationConfigApplicationContext -
Closing NetworkClient.close
close + http://hello-spring.dev
```

**ì„¤ì • ì •ë³´ ë°©ì‹ì˜ íŠ¹ì§•** 
- ë©”ì„œë“œ ì´ë¦„ì„ ììœ ë¡­ê²Œ ì¤„ ìˆ˜ ìˆë‹¤.
- ìŠ¤í”„ë§ ë¹ˆì´ ìŠ¤í”„ë§ ì½”ë“œì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì½”ë“œê°€ ì•„ë‹ˆë¼ ì„¤ì • ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ê³ ì¹  ìˆ˜ ì—†ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ë„ ì´ˆê¸°í™”, ì¢…ë£Œ ë©”ì„œë“œë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤

**ì¢…ë£Œ ë©”ì„œë“œ ì¶”ë¡  ì§€ì›**
- @Beanì˜ destroyMethod` ì†ì„±ì—ëŠ” ì•„ì£¼ íŠ¹ë³„í•œ ê¸°ëŠ¥ì´ ìˆë‹¤.
- ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ëŒ€ë¶€ë¶„ `close` , `shutdown` ì´ë¼ëŠ” ì´ë¦„ì˜ ì¢…ë£Œ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.
- @Beanì˜ `destroyMethod` ëŠ” ê¸°ë³¸ê°’ì´ `(inferred)` (ì¶”ë¡ )ìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆë‹¤.
- ì´ ì¶”ë¡  ê¸°ëŠ¥ì€ `close` , `shutdown` ë¼ëŠ” ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ í˜¸ì¶œí•´ì¤€ë‹¤. ì´ë¦„ ê·¸ëŒ€ë¡œ ì¢…ë£Œ ë©”ì„œë“œë¥¼ ì¶”ë¡ í•´ì„œ í˜¸ì¶œí•´ì¤€ë‹¤.
- ë”°ë¼ì„œ ì§ì ‘ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ì¢…ë£Œ ë©”ì„œë“œëŠ” ë”°ë¡œ ì ì–´ì£¼ì§€ ì•Šì•„ë„ ì˜ ë™ì‘í•œë‹¤.
- ì¶”ë¡  ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ì‹«ìœ¼ë©´ `destroyMethod=""` ì²˜ëŸ¼ ë¹ˆ ê³µë°±ì„ ì§€ì •í•˜ë©´ ëœë‹¤


### ì• ë…¸í…Œì´ì…˜ ë°©ì‹, @PostConstruct, @PreDestory

```java
package hello.core.lifecycle;
import javax.annotation.PostConstruct;
import javax.annotation.PreDestroy;
public class NetworkClient {
private String url;
public NetworkClient() {
System.out.println("ìƒì„±ì í˜¸ì¶œ, url = " + url);
}
public void setUrl(String url) {
this.url = url;
}
//ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
public void connect() {
System.out.println("connect: " + url);
}
public void call(String message) {
System.out.println("call: " + url + " message = " + message);
}
//ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
public void disConnect() {
System.out.println("close + " + url);
}
@PostConstruct
public void init() {
System.out.println("NetworkClient.init");
connect();
call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
}
@PreDestroy
public void close() {
System.out.println("NetworkClient.close");
disConnect();
}
}
```

```java
@Configuration
static class LifeCycleConfig {
	@Bean
	public NetworkClient networkClient() {
		NetworkClient networkClient = new NetworkClient();
		networkClient.setUrl("http://hello-spring.dev");
		return networkClient;
	}
}

```

**ë™ì¼ ì‹¤í–‰ ê²°ê³¼**
```text
ìƒì„±ì í˜¸ì¶œ, url = null
NetworkClient.init
connect: http://hello-spring.dev
call: http://hello-spring.dev message = ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€
19:40:50.269 [main] DEBUG
org.springframework.context.annotation.AnnotationConfigApplicationContext -
Closing NetworkClient.close
close + http://hello-spring.dev
```

ì• ë…¸í…Œì´ì…˜(`@PostConstruct`, `@PreDestory`) ë°©ì‹ì˜ íŠ¹ì§•
- **ìµœì‹  ìŠ¤í”„ë§ì—ì„œ ê°€ì¥ ê¶Œì¥í•˜ëŠ” ë°©ì‹**
- ì• ë…¸í…Œì´ì…˜ í•˜ë‚˜ë§Œ ë¶™ì´ë©´ ë˜ë¯€ë¡œ ë§¤ìš° í¸ë¦¬í•˜ë‹¤. íŒ¨í‚¤ì§€ë¥¼ ì˜ ë³´ë©´ `javax.annotation.PostConstruct` ì´ë‹¤. ìŠ¤í”„ë§ì— ì¢…ì†ì ì¸ ê¸°ìˆ ì´ ì•„ë‹ˆë¼ JSR-250ë¼ëŠ” ìë°” í‘œì¤€ì´ë‹¤. ë”°ë¼ì„œ ìŠ¤í”„ë§ì´ ì•„ë‹Œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œë„ ë™ì‘í•œë‹¤.
- ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ ì–´ìš¸ë¦°ë‹¤.
- ìœ ì¼í•œ ë‹¨ì ì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ì ìš©í•˜ì§€ ëª»í•œë‹¤ëŠ” ê²ƒì´ë‹¤. 
	- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ˆê¸°í™”, ì¢…ë£Œ í•´ì•¼ í•˜ë©´ @Beanì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì.

**ìµœì¢… ì •ë¦¬**
- `@PostConstruct`, `@PreDestroy` ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì
- ì½”ë“œë¥¼ ê³ ì¹  ìˆ˜ ì—†ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ˆê¸°í™”, ì¢…ë£Œí•´ì•¼ í•˜ë©´ `@Bean` ì˜ `initMethod` , `destroyMethod` ë¥¼ ì‚¬ìš©í•˜ì

---
## ì„¹ì…˜ 10. ë¹ˆ ìŠ¤ì½”í”„



