

**Monolithic Architecture**
- 모든 기능이 단일 코드베이스로 결합된 아키텍처
- 소규모 시스템에서 개발 및 배포가 간단하기 때문에 많이 선택
	- 빠르고 효율적으로 개발할 수 있음
- 하지만
	- 특정 부분만 확장하기 어려움
	- 변경사항이 시스템 전체에 영향을 미침
	- 대규모 시스템에서 복잡도가 커지고 개발이 어려움 
- 이러한 문제를 해결하기 위해 Microservice Architecture를 살펴봄


**Microservice Architecture**
- 시스템이 작고 독립적인 서비스(Microservice)로 구성 
- 각 서비스는 단일 기능을 담당하며, 독립적 배포 가능
	- 우리의 시스템에서는 
		- 게시글, 댓글, 좋아요, 조회수, 인기글, 게시글 조회 
		- 각 요구사항(기능)을 독립된 마이크로 서비스로 볼 수도 있다
- 서비스 단위로 유연한 확장 가능
- 하지만 
	- 서비스 간 복잡한 통신 및 모니터링 필요
	- 데이터 일관성 및 트랜잭션 관리의 어려움
	- 어려운 개발 난이도


|              | 모놀리틱       | MSA             |
| ------------ | ---------- | --------------- |
| **구조**       | 통합         | 분산              |
| **결합도**      | 높음         | 낮음              |
| **확장성**      | 개별 확장 어려움  | 개별 확장 쉬움        |
| **배포**       | 통합 배포      | 독립 배포           |
| **기술 스택**    | 단일 기술 스택   | 여러 기술 스택 가능     |
| **변경 전파 범위** | 시스템 전체     | 서비스 또는 전파 범위 이내 |
| **통신 비용**    | 낮음         | 높음              |
| **개발 난이도**   | 쉬움(소규모일수록) | 어려움             |

> [!note] MSA는 서비스간 통신 비용, 트랜잭션 관리, 서비스 분리 기준, 모니터링, 개발 비용, 테스트, 설계 등 고려해야 할 부분이 엄청 많다


**Docker**
- 애플리케이션을 컨테이너라는 격리된 환경에서 실행할 수 있게 해주는 플랫폼
	- 쉽게 배포하고 관리할 수 있음 
	- 환경에 구애 받지 않음

**프로젝트 구조**
```text
board 
	- service: 하위 모듈로 각 마이크로서비스를 가짐
		- article: 게시글 서비스
		- comment: 댓글 서비스
		- like: 좋아요 서비스
		- view: 조회수 서비스
		- hot-article: 인기글 서비스
		- article-read: 게시글 조회 서비스
	- common: 하위 모듈로 개발 편의를 위한 공통 코드를 관리
```


**프로젝트 생성**
- 스프링부트 - 멀티 모듈 프로젝트 


|              | 포트   |
| ------------ | ---- |
| article      | 9000 |
| comment      | 9001 |
| like         | 9002 |
| view         | 9003 |
| hot article  | 9004 |
| article read | 9005 |
| article read | 9006 |

```shell
$ sdk use java 21.0.3-ms

$ spring shell

$ init --list 

$ init -a board -g com.example -n board --package-name com.example.board -p jar -j 21 -b 3.3.2 -x board -d lombok,web
```
-x : jdbc 폴더에 프로젝트 생성
-d : dependency, **spring shell**에서  **init --list** 통해서 supported dependencies 확인 