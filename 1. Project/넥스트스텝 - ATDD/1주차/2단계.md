

**참고.**
- [REST Assured](https://rest-assured.io/)
- https://sjiwon-dev.tistory.com/29

> - 테스트 데이터 격리 방법에 대해 내 저장소에 찾아보기
> - 테스트 데이터 격리 방법 비교 작성
> - custom matcher 관련 내용 조사

**테스트 데이터 격리**
- @DirtiesContext 사용 고려 가능
- @Sql을 활용한 쿼리 수행 고려 가능
- 비즈니스 로직(서비스 클래스 활용) 활용 고려 가능

**테스트 가독성**
- 테스트 메서드명은 한글로 작성 가능
- 비즈니스 용어 사용
- 매직 넘버 대신 의미 있는 상수 사용
- 복잡한 assertion은 custom matcher로 추출


`@PersistenceContext` vs `@Autowired`

`@ActiveProfiles` vs `@Profiles`
- `@ActiveProfiles`는 테스트에서 어떤 profiles로 실행할지 설정
- `@Profiles`는 특정 profiles 일때만 동작한다는 설정
- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html
- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html

**Step2 리팩터링 내용**
- ReservationRequest 생성이 반복된다 
	- 팩토리로 분리 
- API로 예약 생성, 검증에 대한 내용이 반복되고 있다.


**Step3 고려할 내용**
- 글로벌 예외 처리
- 예외 메시지, 상태 코드 관리
- ReservationRequest에 빌더 패턴 적용
- 성수기 요금 계산할 때 응답에 요금 정보가 없다 
	- 현재 ReservationResponse에 가격 정보(totalPrice)가 포함되어 있지 않아 검증 불가.
- 서비스에 하드 코딩된 변수들
