
### 6-1. 변경과 설계 
**설계란?**
기능은 동일하지만 **코드를 배치하는 방식에 차이**가 남
- 절차적인 설계
	- 데이터와 기능을 별도의 모듈로 `분리`
- 객체지향 설계
	- 데이터와 기능을 하나의 모듈로 `통합`


**훌륭한 설계?**
`응집도가 높고, 결합도가 낮고 캡슐화를 지키도록` 코드를 배치하는 것


**응집도 (Cohesion)** //높이고
> 클래스 내부의 기능적인 집중도
- `모듈(클래스)` 내부의 특성 
- 모듈 내부 요소들 사이의 **기능적인 집중도** 
- 모듈 내부의 데이터와 메서드 간에 **관련된 정도** 
- 응집도가 높다(high)/낮다(low)로 표현
- 훌륭한 설계는 `응집도가 높은 설계`
	- **높은 응집도** : 하나의 기능에 집중
	- **낮은 응집도** : 서로 다른 기능이 혼재


**결합도 (Coupling)** // 낮추고
> 클래스가 다른 클래스에 의존하는 정도
- 모듈이 외부의 다른 모듈에 의존하는 정도
- 모듈이 다른 모듈에 대해 알고 있는 **지식의 양**
- 결합도가 높다(high)/낮다(low), 강하다(tight)/느슨하다(loose)로 표현
- 훌륭한 설계는 `결합도가 낮은 설계`
	- **높은 결합도** : 많은 지식 
	- **낮은 결합도** : 적은 지식


**캡슐화(Encapsulation)** // 준수
> 데이터를 감추고 공용 메서드를 외부에 공개
- 내부의 데이터와 메서드를 **하나의 단위로 묶음** 
- 외부로부터 데이터에 대한 **직접적인 접근 제한**
- `공용 인터페이스 (public interface)`를 통한 접근만 허용


**개발자 / 프로그램의 의무**
> [!note] 샌디 메츠
> 우리가 짜는 프로그램은 두 가지 요구사항을 만족시켜야 한다. **우리는 오늘 완성해야 하는 기능을 구현**하는 코드를 작성하는 동시에 **내일 쉽게 변경할 수 있는** 코드를 작성해야 한다 

>[!note] 훌륭한 설계란 
>변경하기 쉽게 코드를 배치하는 것


**설계의 핵심** 
- 모든 설계 원칙과 이론은 `변경`과 관련된다
- 설계와 변경을 함계 고려해야 한다 
	- SOLID 원칙
- 디자인 패턴도 `변경`과 관련
	- 다양한 디자인 패턴의 목적은 `변경을 감추는 것`
- 응집도, 결합도, 캡슐화 역시 `변경`과 관련

> [!info] 변경을 예상하지 마라, 로버트 C.마틴
> 변경의 축은 **변경이 실제로 일어날 때만 변경의 축**이다. 이것은 처음에는 코드가 변경되지 않을 것이라 생각하고 작성한다는 것을 의미한다. 변경이 일어나면, 나중에 일어날 그런 종류의 변경에 대해 보호하는 추상화를 구현한다 


### 6-2. 응집도 

**응집도 (Cohesion)** - 전통적인 관점
> 클래스 내부의 기능적인(데이터와 메서드) 집중도 
- `모듈(클래스)` 내부의 특성 
- 모듈 내부 요소들 사이의 **기능적인 집중도** 
- 모듈 내부의 데이터와 메서드 간에 **관련된 정도** 
- 응집도가 높다(high)/낮다(low)로 표현
- 훌륭한 설계는 `응집도가 높은 설계`
	- **높은 응집도** : 하나의 기능에 집중
	- **낮은 응집도** : 서로 다른 기능이 혼재


**응집도 (Cohesion)**  - 변경 관점
- 모듈 내부 요소들이 함께 번경되는 정도
	- **높은 응집도** : 
		- 모듈 전체가 동일한 시점에 동일한 속도로 변경
		- 모듈 전체가 `동일한 이유로 변경`
	- **낮은 응집도** : 
		- 모듈의 요소들이 서로 다른 시점에 다른 속도로 변경
		- 모듈 각 부분이 `서로 다른 이유로 변경`

영화관 예시에서 할인 정책의 종류나 할인 금액 계산 방법이 변경될때 코드 수정이 발생한다. 또한, 할인 조건의 종류나 할인 여부를 판단하는 방법이 변경될때 코드 수정이 발생한다. 

다양한 이유로 변경되는 절차적인 모듈은 `응집도가 낮다`고 말할 수 있다 

// 객체 지향적으로 변경된 모듈의 경우 설명 
각 할인 조건과 할인 정책은 각 모듈이 담당하는 정책이 바뀌면 수정이 발생한다 (이미지 추가하기)

`각 클래스의 변경 이유는 하나이다`, 따라서 객체 지향 설계는 응집도가 높다 

> 응집도는 단일 책임 원칙과 관련있다
> - SRP : 각 클래스는 단 하나의 이유로만 변경되어야 한다


**응집도 - 클래스 크기 기준에 대한 가이드**
- `변경의 이유`를 기준으로 클래스의 크기를 정하라 (4:32 이미지 추가)
- `변하는 이유가 다른 코드들을 서로 다른 모듈로 분리하라`
- 클래스의 라인수가 중요한게 아니라, 변경 이유가 중요


**응집도를 높이기 위한 분리 기준**
- 클래스가 하나 이상의 이유로 변경된다면 응집도가 낮은 것이다. 
	- `변경의 이류를 기준으로 클래스를 분리하라`
- 특정한 메서드 그룹이 특저한 속성 그룹만 사용한다면 응집도가 낮은 것이다. 
	- `함께 사용되는 메서드와 속성 그룹을 기준으로 클래스를 분리하라`
- 클래스의 인스턴스를 초기화할 때 경우에 다라 서로 다른 속성들을 초기화한다면 응집도가 낮은 것이다. 
	- `초기화되는 속성의 그룹을 기준으로 클래스를 분리하라`



### 6-3. 결합도 

**결합도 (Coupling)** // 낮추고
> 클래스가 다른 클래스에 의존하는 정도
- 모듈이 외부의 다른 모듈에 의존하는 정도
- 모듈이 다른 모듈에 대해 알고 있는 **지식의 양**
- 결합도가 높다(high)/낮다(low), 강하다(tight)/느슨하다(loose)로 표현
- 훌륭한 설계는 `결합도가 낮은 설계`
	- **높은 결합도** : 많은 지식 
	- **낮은 결합도** : 적은 지식


### 6-4. 캡슐화 


### 6-5. 설계 평가하기 


### 6-6. 중복 할인 정책 추가하기 


### 6-6 예제. 중복 할인 정책 추가하기
