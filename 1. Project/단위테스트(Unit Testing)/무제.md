
**ì˜ˆì œ ì½”ë“œ** 
- https://www.manning.com/books/unit-testing
- https://github.com/AcornPublishing/unit-testing

**xUnit documentation** 
- https://xunit.net/docs/getting-started/v3/getting-started


## 2ì¥. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€ ë¬´ì—‡ì¸ê°€
- Listing1ê³¼ Listing2ì˜ ì°¨ì´
	- Listing1 : ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©í•˜ì§€ x, `ê³ ì „ ìŠ¤íƒ€ì¼`, ë‘ ê°ì²´ê°„ ì‹¤ì œ ë™ì‘ í™•ì¸
	- Listing2 : ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© o, `ëŸ°ë˜ ìŠ¤íƒ€ì¼` , ë‘ ê°ì²´ê°„ ìƒí˜¸ì‘ìš© ê²€ì‚¬
### Dictionary ìë£Œêµ¬ì¡°
ğŸ”– [Dictionary<TKey,TValue> í´ë˜ìŠ¤ (System.Collections.Generic) | Microsoft Learn](https://learn.microsoft.com/ko-kr/dotnet/api/system.collections.generic.dictionary-2?view=net-8.0)

```c#
private readonly Dictionary<Product, int> _inventory = new Dictionary<Product, int>();

public int GetInventory(Product product)
{
	bool productExists = _inventory.TryGetValue(product, out int remaining);
	return productExists ? remaining : 0;
}

public void AddInventory(Product product, int quantity)
{
	if (_inventory.ContainsKey(product))
	{
		_inventory[product] += quantity;
	}
	else
	{
		_inventory.Add(product, quantity);
	}
}
```
- GetInventoryì—ì„œ 
	- productê°€ ì—†ìœ¼ë©´ falseì— remaining = 0ì´ í• ë‹¹
	- productê°€ ìˆìœ¼ë©´ trueì— remainingì— value ê°’ì´ í• ë‹¹

> [!info] í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ë©”ì„œë“œ(MUT, Method Under Test)ëŠ” í…ŒìŠ¤íŠ¸ì—ì„œ í˜¸ì¶œí•œ SUTì˜ ë©”ì„œë“œë‹¤. MUTì™€ SUTëŠ” í”íˆ ë™ì˜ì–´ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ MUTëŠ” ë©”ì„œë“œë¥¼ ê°€ë¦¬í‚¤ëŠ” ë° ë°˜í•´ SUTëŠ” í´ë˜ìŠ¤ ì „ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤ (p57)

>[!info] ëª©ì€ í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‹œìŠ¤í…œê³¼ í˜‘ë ¥ì ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ê²€ì‚¬í•  ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ í…ŒìŠ¤íŠ¸ ëŒ€ì—­ì´ë‹¤.


**í…ŒìŠ¤íŠ¸ ëŒ€ì—­ê³¼ ëª©ì˜ ì°¨ì´**
- `í…ŒìŠ¤íŠ¸ ëŒ€ì—­`ì€ ì‹¤í–‰ê³¼ ê´€ë ¨ ì—†ì´ ëª¨ë“  ì¢…ë¥˜ì˜ ê°€ì§œ ì˜ì¡´ì„±ì„ ì„¤ëª…í•˜ëŠ” í¬ê´„ì ì¸ ìš©ì–´ë‹¤.
- `ëª©`ì€ ê·¸ëŸ¬í•œ ì˜ì¡´ì„±ì˜ í•œ ì¢…ë¥˜ì¼ ë¿ì´ë‹¤.


**2.2 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì˜ ëŸ°ë˜íŒŒì™€ ê³ ì „íŒŒ** (p64)

.. ë¶ˆë³€ ê°ì²´ë¥¼ ê°’ ê°ì²´(value object) ë˜ëŠ” ê°’(value)ì´ë¼ê³  í•œë‹¤. ì£¼ìš” íŠ¹ì§•ì€ ê°ê°ì˜ ì •ì²´ì„±ì´ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤. ì¦‰, ë‚´ìš©ì— ì˜í•´ì„œë§Œ ì‹ë³„ëœë‹¤. ê·¸ ê²°ê³¼, ë‘ ê°ì²´ê°€ ë™ì¼í•œ ë‚´ìš©ì„ ê°–ê³  ìˆë‹¤ë©´ ì–´ë–¤ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë“  ìƒê´€ì—†ë‹¤. ì¦‰, ì´ëŸ¬í•œ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì„œë¡œ ë°”ê¿” ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 
(ex. ì˜ˆì œì˜ `enum Product`)


ğŸ“š [Entity vs Value Object: the ultimate list of differences Â· Enterprise Craftsmanship](https://enterprisecraftsmanship.com/posts/entity-vs-value-object-the-ultimate-list-of-differences/)

ğŸ§ (p66) ëª¨ë“  ê³µìœ  ì˜ì¡´ì„±ì€ ë³€ê²½ ê°€ëŠ¥í•˜ì§€ë§Œ, ë³€ê²½ ê°€ëŠ¥í•œ ì˜ì¡´ì„±ì„ ê³µìœ í•˜ë ¤ë©´ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ì—ì„œ ì¬ì‚¬ìš© ë¼ì•¼ í•œë‹¤ (?????)


## 3ì¥. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

### 3.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•

**3.1.1 AAA íŒ¨í„´ ì‚¬ìš©**
- `Arrange (ì¤€ë¹„)` : í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ ë°ì´í„° ìƒì„±/ì¤€ë¹„, ê°ì²´ ì´ˆê¸°í™”, ìƒíƒœ/ì¡°ê±´ ì„¤ì •
- `Act (ì‹¤í–‰)` : í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì½”ë“œ (sut)ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ì‹¤í–‰
- `Assert (ë‹¨ì–¸)` : ì‹¤í–‰í•œ ì½”ë“œì˜ ê²°ê³¼ë¥¼ ê²€ì¦í•˜ê³ , ì˜ˆìƒí•œ ëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸

> âœ… BDDì˜ ê²½ìš° `given` / `when` / `then`

ğŸ”– [Unit testì˜ AAA íŒ¨í„´(Arrange/Act/Assert)](https://codechacha.com/ko/unittest-aaa-pattern/)


**3.1.2 ì—¬ëŸ¬ ê°œì˜ ì¤€ë¹„, ì‹¤í–‰, ê²€ì¦ êµ¬ì ˆ í”¼í•˜ê¸°**

**3.1.3 í…ŒìŠ¤íŠ¸ ë‚´ if ë¬¸ í”¼í•˜ê¸°**

**3.1.4 ê° êµ¬ì ˆì€ ì–¼ë§ˆë‚˜ ì»¤ì•¼ í•˜ëŠ”ê°€?**
- `ì¤€ë¹„ êµ¬ì ˆì´ ê°€ì¥ í° ê²½ìš°`
	- â–¶ï¸ ê°™ì€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ë‚´ ë¹„ê³µê°œ ë©”ì„œë“œ ë˜ëŠ” ë³„ë„ì˜ íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¡œ ë„ì¶œí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤
	- ğŸ”–ì¤€ë¹„ êµ¬ì ˆì—ì„œ ì½”ë“œ ì¬ì‚¬ìš©ì— ë„ì›€ì´ ë˜ëŠ” ë‘ ê°€ì§€ íŒ¨í„´ìœ¼ë¡œ `ì˜¤ë¸Œì íŠ¸ ë§ˆë”(Object Mother) íŒ¨í„´`ê³¼ `í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¹Œë” (Test Data Builder)`ê°€ ìˆë‹¤.
- `ì‹¤í–‰ êµ¬ì ˆì´ í•œ ì¤„ ì´ìƒì¸ ê²½ìš°ë¥¼ ê²½ê³„í•´ë¼`
	- **ì‹¤í–‰ êµ¬ì ˆì´ ë³´í†µ ì½”ë“œ í•œ ì¤„**ì´ë‹¤
	- ì‹¤í–‰ êµ¬ì ˆì´ ë‘ ì¤„ ì´ìƒì¸ ê²½ìš° SUTì˜ ê³µê°œ APIì— ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.
	- ì´ë•Œ ì ì¬ì  ëª¨ìˆœìœ¼ë¡œë¶€í„° ì½”ë“œë¥¼ ë³´í˜¸í•˜ëŠ” í–‰ìœ„ë¥¼ `ìº¡ìŠí™”(encapsulation)`ë¼ê³  í•œë‹¤.

**3.1.5 ê²€ì¦ êµ¬ì ˆì—ëŠ” ê²€ì¦ë¬¸ì´ ì–¼ë§ˆë‚˜ ìˆì–´ì•¼ í•˜ëŠ”ê°€**
- SUTì—ì„œ ë°˜í™˜ëœ ê°ì²´ ë‚´ì—ì„œ ëª¨ë“  ì†ì„±ì„ ê²€ì¦í•˜ëŠ” ëŒ€ì‹  ê°ì²´ í´ë˜ìŠ¤ ë‚´ì— ì ì ˆí•œ ë™ë“± ë©¤ë²„(equality member)ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. â–¶ï¸ ê·¸ëŸ¬ë©´ ë‹¨ì¼ ê²€ì¦ë¬¸ìœ¼ë¡œ ê°ì²´ë¥¼ ê¸°ëŒ€ê°’ê³¼ ë¹„êµ ê°€ëŠ¥

**3.1.6 ì¢…ë£Œ ë‹¨ê³„ëŠ” ì–´ë–¤ê°€**
- ëŒ€ë¶€ë¶„ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì¢…ë£Œ êµ¬ì ˆì´ í•„ìš”x
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ì— ì¢…ì†ì ì´ì§€ ì•Šìœ¼ë¯€ë¡œ ì²˜ë¦¬í•´ì•¼ í•  ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ë‚¨ê¸°ì§€ x
- ì¢…ë£ŒëŠ” í†µí•© í…ŒìŠ¤íŠ¸ì˜ ì˜ì—­ì´ë‹¤ â–¶ï¸ 3ë¶€ì—ì„œ ë‹¤ë£° ì˜ˆì •

**3.1.7 í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‹œìŠ¤í…œ êµ¬ë³„í•˜ê¸°**


### 3.2 xUnit í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ì‚´í´ë³´ê¸°
.NETì—ì„œ [xUnit](https://xunit.net/?tabs=cs) ëŒ€ì•ˆìœ¼ë¡œ [NUnit](https://nunit.org/)ì´ë‚˜ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” Microsoft MSTest ë“±ì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤. 
- xUnitì„ ì„ í˜¸í•˜ì§€ë§Œ, NUnitì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. 
- ì´ ë‘ í”„ë ˆì„ì›Œí¬ëŠ” ê¸°ëŠ¥ë©´ì—ì„œ ê±°ì˜ ë¹„ìŠ·í•˜ë‹¤ 
- ê·¸ëŸ¬ë‚˜ ğŸ’©MSTestëŠ” ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ì•ì— ë‘ ê°œë³´ë‹¤ ìœ ì—°í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. 
	- ê·¸ë¦¬ê³  í™•ì‹¤ì¹˜ ì•Šì§€ë§Œ, ë§ˆì†Œ ì§ì›ë“¤ì¡°ì°¨ ì‚¬ìš© x
	- ASP.NET Core íŒ€ì€ xUnitì„ ì‚¬ìš©í•œë‹¤.
		- ì´ìœ ëŠ” NUnitë³´ë‹¤ ë” ê¹¨ë—í•˜ê³  ê°„ê²°í•´ì„œ.

### 3.3 í…ŒìŠ¤íŠ¸ ê°„ í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜ ì¬ì‚¬ìš©
- ì¤€ë¹„êµ¬ì ˆì—ì„œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í…ŒìŠ¤íŠ¸ë¥¼ ì¤„ì´ë©´ì„œ ë‹¨ìˆœí™”í•˜ê¸° ì¢‹ì€ ë°©ë²•ì´ë‹¤

>[!info] í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜
>ë‹¤ìŒê³¼ ê°™ì´ ë‘ ê°€ì§€ ê³µí†µëœ ì˜ë¯¸ê°€ ìˆë‹¤. 
>1. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëŒ€ìƒ ê°ì²´ë‹¤. ì´ ê°ì²´ëŠ” ì •ê·œ ì˜ì¡´ì„±, ì¦‰ SUTë¡œ ì „ë‹¬ë˜ëŠ” ì¸ìˆ˜ë‹¤. DBì— ìˆëŠ” ë°ì´í„°ë‚˜ í•˜ë“œ ë””ìŠ¤í¬ì˜ íŒŒì¼ì¼ ìˆ˜ë„ ìˆë‹¤. ì´ëŸ¬í•œ ê°ì²´ëŠ” ê° í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ì— ì•Œë ¤ì§„ ê³ ì • ìƒíƒœë¡œ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ ê²°ê³¼ë¥¼ ìƒì„±í•œë‹¤. ë”°ë¼ì„œ í”½ìŠ¤ì²˜ë¼ëŠ” ë‹¨ì–´ê°€ ë‚˜ì™”ë‹¤.
>2. ë‹¤ë¥¸ ì •ì˜ëŠ” NUnit í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì—ì„œ ë¹„ë¡¯ëœë‹¤. NUnitì—ì„œ `[TextFixture]`ëŠ” í…ŒìŠ¤íŠ¸ê°€ í¬í•¨ëœ í´ë˜ìŠ¤ë¥¼ í‘œì‹œí•˜ëŠ” íŠ¹ì„±ì´ë‹¤.

---
### ìš©ì–´
- êµ¬ì²´ í´ë˜ìŠ¤(concrete class) ğŸ”–p59
- ê³µìœ  ì˜ì¡´ì„±, ë¹„ê³µê°œ ì˜ì¡´ì„±, í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ ì˜ì¡´ì„± ğŸ”–p61
- ì—”ë“œ íˆ¬ ì—”ë“œ í…ŒìŠ¤íŠ¸(end-to-end-test) ğŸ”–p75
- AAA íŒ¨í„´ ğŸ”–p80
- SUT (System Under Test, í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‹œìŠ¤í…œ) ğŸ”–p81
- ë¶ˆë³€ ìœ„ë°˜ (invariant violation) ğŸ”– p86

### ì¶”ì²œ ìë£Œ
- ğŸ“š [Entity vs Value Object: the ultimate list of differences Â· Enterprise Craftsmanship](https://enterprisecraftsmanship.com/posts/entity-vs-value-object-the-ultimate-list-of-differences/)
- TDD (p72)
	- ğŸ“— í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ (Test-Driven Development : By Example)
	- ğŸ“— [Growing Object-Oriented Software Guided by Tests: About the Book](http://www.growing-object-oriented-software.com/)

