- [저장소](https://github.com/dream-coding-academy/typescript_motion) 


**14.6 DOM을 잘 모르는 ..**
- HTML DOM은 `tag`
- JavaScript에서는 `node`라고 부름
- `Node -> EventTarget`을 상속 받음
	- Node 하위에는 Document, Element, Text가 있고, 상속 받음



```typescript 
export class ImageComponent {

	private element: HTMLElement;
	
	constructor(title: string, url: string) {
		const template = document.createElement('template');
		
		template.innerHTML = `
			<section class="image">
				<div class="image__holder">
					<img class="image__thumbnail">
				</div>
				<p class="image__title"></p>
			</section>
		`;
		
		this.element = template.content.firstElementChild! as HTMLElement;
		
		const imageElement = this.element.querySelector('.image__thumbnail')! as HTMLImageElement;
	
		imageElement.src = url;
		imageElement.alt = title;
		
		const titleElement = this.element.querySelector('.image__title')! as HTMLParagraphElement;
		
		titleElement.textContent = title;
	
	}
	
	  
	
	attachTo(parent: HTMLElement, position: InsertPosition = 'afterbegin') {
		parent.insertAdjacentElement(position, this.element);
	}

}
```
- `<template>` 태그를 사용하는 이유?
- `app.ts`에 추가

```typescript 
import { PageComponent } from './components/page.js';

import { ImageComponent } from './components/page/item/image.js';

  

class App {
	private readonly page: PageComponent;
	
	constructor(appRoot: HTMLElement) {
		this.page = new PageComponent();
		this.page.attachTo(appRoot);
	
		const image = new ImageComponent('Image Title', 'https://picsum.photos/600/300');
		image.attachTo(appRoot, 'beforeend');
	}

}

new App(document.querySelector('.document')! as HTMLElement);
```

```shell
$ tsc -w 
```
- 타입스크립트 파일을 컴파일해서 `dist`  디렉터리에 생성
- `dist/*.js` 파일을 index.html에서 호출하여 사용


컴포넌트 리팩터링 
- image와 page에 중복되는 로직이 존재 
```typescript 
export interface Component {
	attachTo(parent: HTMLElement, position?: InsertPosition): void;
}


class BaseComponent<T extends HTMLElement> {

	protected readonly element: T;
	
	constructor(htmlString: string) {
		const template = document.createElement('template');
		template.innerHTML = htmlString;
		this.element = template.content.firstElementChild! as T;
	}

	attachTo(parent: HTMLElement, position: InsertPosition = 'afterbegin') {
		parent.insertAdjacentElement(position, this.element);
	}

}
```
- `image.ts` , `page.ts`를 리팩터링한다 
- 제네릭 클래스를 상속받는다


**모든 섹션 구현하기** 
- Image component
- note component
- video component
- todo component

> [!info]
> **HTMLHeadElement**: HTML의 head 태그를 대표하는 요소
> **HTMLHeadingElement**: h1과 같은 heading 태그를 대표하는 요소

